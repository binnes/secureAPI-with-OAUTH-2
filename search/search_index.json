{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Authentication Test API","text":"<p>Welcome to the Authentication Test API documentation. This is a RESTful API server providing user schedule management with OAuth 2.0 authentication via Keycloak.</p>"},{"location":"#overview","title":"Overview","text":"<p>The Authentication Test API is a production-ready Java application built with:</p> <ul> <li>Java 21 - Modern Java features and performance</li> <li>OpenLiberty 24.0.0.1 - Lightweight, cloud-native application server</li> <li>Jakarta EE 10 - Enterprise Java standards</li> <li>MicroProfile 6.1 - Microservices-optimized APIs</li> <li>Keycloak OAuth 2.0 - Industry-standard authentication</li> </ul>"},{"location":"#key-features","title":"Key Features","text":"<p>\u2705 Health Check Endpoint - Public endpoint for monitoring server status \u2705 Secured Schedule API - JWT-protected user schedule management \u2705 Role-Based Access Control - Fine-grained authorization with Keycloak roles \u2705 OpenAPI 3.0 Documentation - Interactive API documentation with Swagger UI \u2705 Comprehensive Error Handling - Consistent error responses across all endpoints \u2705 Container Support - Ready for deployment with Podman or Docker \u2705 Production Ready - Logging, monitoring, and security best practices</p>"},{"location":"#quick-links","title":"Quick Links","text":"<ul> <li>Quick Start Guide - Get up and running in minutes</li> <li>Building with Maven - Build and package the application</li> <li>Keycloak Setup - Configure authentication</li> <li>SSL Certificates - Configure self-signed certificates</li> <li>Groups Mapper - Configure role-based authorization</li> <li>API Reference - Complete API documentation</li> <li>OpenAPI Export - Export spec for Orchestrate</li> <li>Troubleshooting - Solutions to common problems</li> </ul>"},{"location":"#architecture","title":"Architecture","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510         \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510         \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502   Client    \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b6\u2502  Authentication  \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b6\u2502  Keycloak   \u2502\n\u2502 Application \u2502         \u2502    Test API      \u2502         \u2502   Server    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518         \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518         \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                               \u2502\n                               \u2502 JWT Validation\n                               \u2502\n                        \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n                        \u2502  Schedule   \u2502\n                        \u2502   Service   \u2502\n                        \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"#api-endpoints","title":"API Endpoints","text":""},{"location":"#public-endpoints","title":"Public Endpoints","text":"<ul> <li><code>GET /api/v1/hello</code> - Health check and server information</li> </ul>"},{"location":"#protected-endpoints","title":"Protected Endpoints","text":"<ul> <li><code>GET /api/v1/schedule</code> - Retrieve user schedule (requires JWT token and <code>schedule-user</code> role)</li> </ul>"},{"location":"#technology-stack","title":"Technology Stack","text":"Component Technology Version Language Java 21+ Application Server OpenLiberty 24.0.0.1 Framework Jakarta EE 10 Microservices MicroProfile 6.1 Build Tool Maven 3.9+ Authentication Keycloak Latest Container Runtime Podman/Docker Latest"},{"location":"#getting-started","title":"Getting Started","text":"<p>To get started with the Authentication Test API:</p> <ol> <li>Check Prerequisites - Ensure you have the required tools</li> <li>Build the Application - Compile and package the API</li> <li>Configure SSL Certificates - Setup trust for self-signed certificates (if needed)</li> <li>Setup Keycloak - Configure authentication server</li> <li>Realm Configuration</li> <li>Client Configuration</li> <li>User Management</li> <li>Groups Claim Mapper</li> <li>Run the Server - Start the API server</li> <li>Test the API - Make your first API calls</li> </ol>"},{"location":"#support","title":"Support","text":"<p>For issues, questions, or contributions:</p> <ul> <li>\ud83d\udce7 Email: support@example.com</li> <li>\ud83d\udc1b Issues: GitHub Issues</li> <li>\ud83d\udcd6 Documentation: This site</li> </ul>"},{"location":"#license","title":"License","text":"<p>This project is licensed under the Apache License 2.0. See the LICENSE file for details.</p>"},{"location":"api/authentication/","title":"Authentication","text":"<p>Guide to authenticating with the Authentication Test API using OAuth 2.0 and JWT tokens.</p>"},{"location":"api/authentication/#overview","title":"Overview","text":"<p>The API uses OAuth 2.0 with JWT (JSON Web Tokens) for authentication via Keycloak.</p>"},{"location":"api/authentication/#getting-a-token","title":"Getting a Token","text":""},{"location":"api/authentication/#using-password-grant","title":"Using Password Grant","text":"<pre><code>curl -X POST http://localhost:8080/realms/secure-test/protocol/openid-connect/token \\\n  -H \"Content-Type: application/x-www-form-urlencoded\" \\\n  -d \"client_id=authentication-test-api\" \\\n  -d \"client_secret=YOUR_CLIENT_SECRET\" \\\n  -d \"grant_type=password\" \\\n  -d \"username=testuser1\" \\\n  -d \"password=password123\"\n</code></pre> <p>Response: <pre><code>{\n  \"access_token\": \"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9...\",\n  \"expires_in\": 300,\n  \"refresh_token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\",\n  \"token_type\": \"Bearer\"\n}\n</code></pre></p>"},{"location":"api/authentication/#using-the-token","title":"Using the Token","text":"<p>Include the access token in the Authorization header:</p> <pre><code>curl http://localhost:9080/api/v1/schedule \\\n  -H \"Authorization: Bearer YOUR_ACCESS_TOKEN\"\n</code></pre>"},{"location":"api/authentication/#token-structure","title":"Token Structure","text":"<p>JWT tokens contain: - <code>sub</code>: User ID - <code>preferred_username</code>: Username - <code>realm_access.roles</code>: User roles - <code>exp</code>: Expiration time - <code>iss</code>: Issuer (Keycloak)</p>"},{"location":"api/authentication/#next-steps","title":"Next Steps","text":"<ul> <li>API Endpoints</li> <li>Keycloak Setup</li> </ul>"},{"location":"api/endpoints/","title":"API Endpoints","text":"<p>Complete reference for all Authentication Test API endpoints.</p>"},{"location":"api/endpoints/#base-url","title":"Base URL","text":"<pre><code>http://localhost:9080/api/v1\n</code></pre>"},{"location":"api/endpoints/#endpoints-overview","title":"Endpoints Overview","text":"Endpoint Method Auth Description <code>/hello</code> GET No Health check <code>/schedule</code> GET Yes User schedule"},{"location":"api/endpoints/#health-check-endpoint","title":"Health Check Endpoint","text":""},{"location":"api/endpoints/#get-apiv1hello","title":"GET /api/v1/hello","text":"<p>Public endpoint for health checks and server information.</p> <p>Authentication: None required</p> <p>Request: <pre><code>curl -X GET http://localhost:9080/api/v1/hello\n</code></pre></p> <p>Response (200 OK): <pre><code>{\n  \"hostname\": \"server-hostname.local\",\n  \"serverTime\": \"2026-01-28T10:30:00Z\",\n  \"apiVersion\": \"1.0.0\",\n  \"status\": \"healthy\"\n}\n</code></pre></p> <p>Response Fields: - <code>hostname</code> (string): Server hostname - <code>serverTime</code> (string): Current server time in ISO 8601 UTC format - <code>apiVersion</code> (string): API version - <code>status</code> (string): Server status</p>"},{"location":"api/endpoints/#schedule-endpoint","title":"Schedule Endpoint","text":""},{"location":"api/endpoints/#get-apiv1schedule","title":"GET /api/v1/schedule","text":"<p>Retrieve the authenticated user's schedule.</p> <p>Authentication: Required (Bearer JWT token) Authorization: Requires <code>schedule-user</code> role</p> <p>Request: <pre><code>curl -X GET http://localhost:9080/api/v1/schedule \\\n  -H \"Authorization: Bearer YOUR_JWT_TOKEN\"\n</code></pre></p> <p>Response (200 OK): <pre><code>{\n  \"user\": \"testuser1\",\n  \"schedule\": [\n    {\n      \"date\": \"2026-01-28\",\n      \"time\": \"09:00\",\n      \"description\": \"Team standup meeting\"\n    },\n    {\n      \"date\": \"2026-01-28\",\n      \"time\": \"14:30\",\n      \"description\": \"Code review session\"\n    },\n    {\n      \"date\": \"2026-01-29\",\n      \"time\": \"10:00\",\n      \"description\": \"Sprint planning\"\n    }\n  ]\n}\n</code></pre></p> <p>Response Fields: - <code>user</code> (string): Username from JWT token - <code>schedule</code> (array): Array of schedule items   - <code>date</code> (string): Date in ISO 8601 format (YYYY-MM-DD)   - <code>time</code> (string): Time in 24-hour format (HH:mm)   - <code>description</code> (string): Activity description</p> <p>Error Responses:</p> <p>401 Unauthorized: <pre><code>{\n  \"error\": \"UNAUTHORIZED\",\n  \"message\": \"Authentication required\",\n  \"timestamp\": \"2026-01-28T10:30:00Z\",\n  \"path\": \"/api/v1/schedule\"\n}\n</code></pre></p> <p>403 Forbidden: <pre><code>{\n  \"error\": \"FORBIDDEN\",\n  \"message\": \"Insufficient permissions. Required role: schedule-user\",\n  \"timestamp\": \"2026-01-28T10:30:00Z\",\n  \"path\": \"/api/v1/schedule\"\n}\n</code></pre></p>"},{"location":"api/endpoints/#testing-endpoints","title":"Testing Endpoints","text":""},{"location":"api/endpoints/#using-curl","title":"Using curl","text":"<pre><code># Health check\ncurl http://localhost:9080/api/v1/hello | jq\n\n# Get token\nTOKEN=$(curl -X POST http://localhost:8080/realms/secure-test/protocol/openid-connect/token \\\n  -H \"Content-Type: application/x-www-form-urlencoded\" \\\n  -d \"client_id=authentication-test-api\" \\\n  -d \"client_secret=YOUR_SECRET\" \\\n  -d \"grant_type=password\" \\\n  -d \"username=testuser1\" \\\n  -d \"password=password123\" \\\n  | jq -r '.access_token')\n\n# Call schedule endpoint\ncurl http://localhost:9080/api/v1/schedule \\\n  -H \"Authorization: Bearer $TOKEN\" | jq\n</code></pre>"},{"location":"api/endpoints/#next-steps","title":"Next Steps","text":"<ul> <li>Authentication Guide</li> <li>Error Handling</li> <li>OpenAPI Documentation</li> </ul>"},{"location":"api/errors/","title":"Error Handling","text":"<p>Standard error responses and codes for the Authentication Test API.</p>"},{"location":"api/errors/#error-response-format","title":"Error Response Format","text":"<p>All errors return a consistent JSON structure:</p> <pre><code>{\n  \"error\": \"ERROR_CODE\",\n  \"message\": \"Human-readable error message\",\n  \"timestamp\": \"2026-01-28T10:30:00Z\",\n  \"path\": \"/api/v1/schedule\"\n}\n</code></pre>"},{"location":"api/errors/#http-status-codes","title":"HTTP Status Codes","text":"Code Status Description 200 OK Successful request 400 Bad Request Invalid request format 401 Unauthorized Missing or invalid authentication 403 Forbidden Insufficient permissions 404 Not Found Resource not found 500 Internal Server Error Server error"},{"location":"api/errors/#error-codes","title":"Error Codes","text":""},{"location":"api/errors/#unauthorized-401","title":"UNAUTHORIZED (401)","text":"<p>Missing or invalid JWT token.</p> <pre><code>{\n  \"error\": \"UNAUTHORIZED\",\n  \"message\": \"Authentication required\",\n  \"timestamp\": \"2026-01-28T10:30:00Z\",\n  \"path\": \"/api/v1/schedule\"\n}\n</code></pre>"},{"location":"api/errors/#forbidden-403","title":"FORBIDDEN (403)","text":"<p>Valid token but insufficient permissions.</p> <pre><code>{\n  \"error\": \"FORBIDDEN\",\n  \"message\": \"Insufficient permissions. Required role: schedule-user\",\n  \"timestamp\": \"2026-01-28T10:30:00Z\",\n  \"path\": \"/api/v1/schedule\"\n}\n</code></pre>"},{"location":"api/errors/#internal_error-500","title":"INTERNAL_ERROR (500)","text":"<p>Unexpected server error.</p> <pre><code>{\n  \"error\": \"INTERNAL_ERROR\",\n  \"message\": \"An unexpected error occurred\",\n  \"timestamp\": \"2026-01-28T10:30:00Z\",\n  \"path\": \"/api/v1/schedule\"\n}\n</code></pre>"},{"location":"api/errors/#handling-errors","title":"Handling Errors","text":""},{"location":"api/errors/#in-client-applications","title":"In Client Applications","text":"<pre><code>fetch('http://localhost:9080/api/v1/schedule', {\n  headers: {\n    'Authorization': `Bearer ${token}`\n  }\n})\n.then(response =&gt; {\n  if (!response.ok) {\n    return response.json().then(error =&gt; {\n      throw new Error(error.message);\n    });\n  }\n  return response.json();\n})\n.catch(error =&gt; {\n  console.error('API Error:', error.message);\n});\n</code></pre>"},{"location":"api/errors/#next-steps","title":"Next Steps","text":"<ul> <li>API Endpoints</li> <li>Troubleshooting</li> </ul>"},{"location":"api/openapi/","title":"OpenAPI Documentation","text":"<p>Interactive API documentation using OpenAPI 3.0 and Swagger UI.</p>"},{"location":"api/openapi/#accessing-openapi-documentation","title":"Accessing OpenAPI Documentation","text":"<p>Once the server is running, access the interactive documentation:</p>"},{"location":"api/openapi/#swagger-ui","title":"Swagger UI","text":"<p>Interactive API explorer with try-it-out functionality:</p> <pre><code>http://localhost:9080/openapi/ui\n</code></pre>"},{"location":"api/openapi/#openapi-specification","title":"OpenAPI Specification","text":"<p>Raw OpenAPI 3.0 specification in JSON format:</p> <pre><code>http://localhost:9080/openapi\n</code></pre>"},{"location":"api/openapi/#exporting-the-openapi-specification","title":"Exporting the OpenAPI Specification","text":"<p>To add this API to Orchestrate or other tools, you need to export the OpenAPI specification file.</p> curlwgetBrowserSwagger UIAutomated Script <p>Download the spec using curl (recommended):</p> <pre><code>curl http://localhost:9080/openapi -o openapi.json\n</code></pre> <p>This creates an <code>openapi.json</code> file in your current directory.</p> <p>Download using wget:</p> <pre><code>wget http://localhost:9080/openapi -O openapi.json\n</code></pre> <p>Download via web browser:</p> <ol> <li>Start the server: <code>mvn liberty:dev</code></li> <li>Open your browser to: <code>http://localhost:9080/openapi</code></li> <li>Right-click and select \"Save Page As...\"</li> <li>Save as <code>openapi.json</code></li> </ol> <p>Export from Swagger UI:</p> <ol> <li>Navigate to <code>http://localhost:9080/openapi/ui</code></li> <li>Look for the OpenAPI spec link at the top of the page</li> <li>Right-click and \"Save Link As...\"</li> <li>Save as <code>openapi.json</code></li> </ol> <p>Create a script to export automatically:</p> <pre><code>#!/bin/bash\n# export-openapi.sh\n\n# Wait for server to be ready\necho \"Waiting for server to start...\"\nuntil curl -s http://localhost:9080/openapi &gt; /dev/null; do\n    sleep 2\ndone\n\n# Export the spec\necho \"Exporting OpenAPI specification...\"\ncurl http://localhost:9080/openapi -o openapi.json\n\necho \"OpenAPI spec exported to openapi.json\"\n</code></pre> <p>Make it executable and run:</p> <pre><code>chmod +x export-openapi.sh\n./export-openapi.sh\n</code></pre>"},{"location":"api/openapi/#verify-the-export","title":"Verify the Export","text":"<p>Check that the file contains valid JSON:</p> <pre><code>cat openapi.json | jq '.'\n</code></pre> <p>Or view the OpenAPI version:</p> <pre><code>cat openapi.json | jq '.openapi'\n</code></pre> <p>Expected output: <code>\"3.0.3\"</code> or similar.</p>"},{"location":"api/openapi/#using-the-spec-with-orchestrate","title":"Using the Spec with Orchestrate","text":"<p>Once exported, you can:</p> <ol> <li>Import to Orchestrate - Use the <code>openapi.json</code> file to register your API</li> <li>Version Control - Commit the spec to your repository for tracking changes</li> <li>API Documentation - Share with team members or external consumers</li> <li>Code Generation - Use tools like OpenAPI Generator to create client SDKs</li> </ol>"},{"location":"api/openapi/#using-swagger-ui","title":"Using Swagger UI","text":"<ol> <li>Open Swagger UI at <code>http://localhost:9080/openapi/ui</code></li> <li>Explore Endpoints - Click on any endpoint to see details</li> <li>Try It Out - Click \"Try it out\" button</li> <li>Authenticate - Click \"Authorize\" and enter your JWT token</li> <li>Execute - Fill in parameters and click \"Execute\"</li> </ol>"},{"location":"api/openapi/#authentication-in-swagger-ui","title":"Authentication in Swagger UI","text":"<ol> <li>Click the \"Authorize\" button (lock icon)</li> <li>Enter your JWT token in the format: <code>Bearer YOUR_TOKEN</code></li> <li>Click \"Authorize\"</li> <li>Click \"Close\"</li> </ol> <p>Now you can test protected endpoints.</p>"},{"location":"api/openapi/#getting-a-token-for-testing","title":"Getting a Token for Testing","text":"<pre><code>curl -X POST http://localhost:8080/realms/secure-test/protocol/openid-connect/token \\\n  -H \"Content-Type: application/x-www-form-urlencoded\" \\\n  -d \"client_id=authentication-test-api\" \\\n  -d \"client_secret=YOUR_SECRET\" \\\n  -d \"grant_type=password\" \\\n  -d \"username=testuser1\" \\\n  -d \"password=password123\" \\\n  | jq -r '.access_token'\n</code></pre> <p>Copy the token and use it in Swagger UI.</p>"},{"location":"api/openapi/#openapi-annotations","title":"OpenAPI Annotations","text":"<p>The API uses MicroProfile OpenAPI annotations for documentation:</p> <pre><code>@Operation(\n    summary = \"Get user schedule\",\n    description = \"Retrieve the authenticated user's schedule\"\n)\n@APIResponses({\n    @APIResponse(\n        responseCode = \"200\",\n        description = \"Schedule retrieved successfully\"\n    )\n})\n</code></pre>"},{"location":"api/openapi/#next-steps","title":"Next Steps","text":"<ul> <li>API Endpoints</li> <li>Authentication</li> </ul>"},{"location":"build/containers/","title":"Containerization","text":"<p>Learn how to build and run the Authentication Test API in containers using Podman or Docker.</p>"},{"location":"build/containers/#overview","title":"Overview","text":"<p>The project includes a <code>Containerfile</code> in the <code>API_server/</code> directory (compatible with both Podman and Docker) that creates a production-ready container image.</p>"},{"location":"build/containers/#container-image-details","title":"Container Image Details","text":"<ul> <li>Base Image: OpenLiberty 24.0.0.1 with Java 21</li> <li>Multi-stage Build: Optimized for size and security</li> <li>Non-root User: Runs as user 1001 for security</li> <li>Exposed Ports: 9080 (HTTP), 9443 (HTTPS)</li> </ul>"},{"location":"build/containers/#building-container-images","title":"Building Container Images","text":"Podman (Recommended)Docker <p>Podman is a daemonless container engine that's compatible with Docker.</p> <p>Build Image:</p> <pre><code>cd API_server\npodman build -t authentication-test-api:1.0.0 .\n</code></pre> <p>Build with Custom Tag:</p> <pre><code>cd API_server\npodman build -t authentication-test-api:latest .\n</code></pre> <p>Build with No Cache:</p> <p>Force rebuild without using cache:</p> <pre><code>cd API_server\npodman build --no-cache -t authentication-test-api:1.0.0 .\n</code></pre> <p>Build Image:</p> <pre><code>cd API_server\ndocker build -t authentication-test-api:1.0.0 .\n</code></pre> <p>Build with Build Args:</p> <p>Pass build-time variables:</p> <pre><code>cd API_server\ndocker build \\\n  --build-arg LIBERTY_VERSION=24.0.0.1 \\\n  -t authentication-test-api:1.0.0 .\n</code></pre>"},{"location":"build/containers/#running-containers","title":"Running Containers","text":""},{"location":"build/containers/#basic-run","title":"Basic Run","text":"PodmanDocker <pre><code>podman run -d \\\n  --name auth-api \\\n  -p 9080:9080 \\\n  -p 9443:9443 \\\n  authentication-test-api:1.0.0\n</code></pre> <pre><code>docker run -d \\\n  --name auth-api \\\n  -p 9080:9080 \\\n  -p 9443:9443 \\\n  authentication-test-api:1.0.0\n</code></pre>"},{"location":"build/containers/#run-with-environment-variables","title":"Run with Environment Variables","text":"<p>Configure the application using environment variables:</p> PodmanDocker <pre><code>podman run -d \\\n  --name auth-api \\\n  -p 9080:9080 \\\n  -p 9443:9443 \\\n  -e JWT_JWKS_URI=https://keycloak.lab.home/realms/secure-test/protocol/openid-connect/certs \\\n  -e JWT_ISSUER=https://keycloak.lab.home/realms/secure-test \\\n  -e LOG_LEVEL=DEBUG \\\n  -e CORS_ALLOWED_ORIGINS=http://localhost:3000 \\\n  authentication-test-api:1.0.0\n</code></pre> <pre><code>docker run -d \\\n  --name auth-api \\\n  -p 9080:9080 \\\n  -p 9443:9443 \\\n  -e JWT_JWKS_URI=https://keycloak.lab.home/realms/secure-test/protocol/openid-connect/certs \\\n  -e JWT_ISSUER=https://keycloak.lab.home/realms/secure-test \\\n  -e LOG_LEVEL=DEBUG \\\n  -e CORS_ALLOWED_ORIGINS=http://localhost:3000 \\\n  authentication-test-api:1.0.0\n</code></pre>"},{"location":"build/containers/#run-with-environment-file","title":"Run with Environment File","text":"<p>Create an environment file:</p> <pre><code># env.list\nJWT_JWKS_URI=https://keycloak.lab.home/realms/secure-test/protocol/openid-connect/certs\nJWT_ISSUER=https://keycloak.lab.home/realms/secure-test\nLOG_LEVEL=INFO\nCORS_ALLOWED_ORIGINS=http://localhost:3000,https://app.lab.home\nCORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS\nCORS_ALLOWED_HEADERS=Authorization,Content-Type\n</code></pre> <p>Run with environment file:</p> PodmanDocker <pre><code>podman run -d \\\n  --name auth-api \\\n  -p 9080:9080 \\\n  --env-file env.list \\\n  authentication-test-api:1.0.0\n</code></pre> <pre><code>docker run -d \\\n  --name auth-api \\\n  -p 9080:9080 \\\n  --env-file env.list \\\n  authentication-test-api:1.0.0\n</code></pre>"},{"location":"build/containers/#run-in-foreground","title":"Run in Foreground","text":"<p>Run with logs visible (useful for debugging):</p> PodmanDocker <pre><code>podman run --rm \\\n  --name auth-api \\\n  -p 9080:9080 \\\n  authentication-test-api:1.0.0\n</code></pre> <pre><code>docker run --rm \\\n  --name auth-api \\\n  -p 9080:9080 \\\n  authentication-test-api:1.0.0\n</code></pre> <p>Press <code>Ctrl+C</code> to stop.</p>"},{"location":"build/containers/#container-management","title":"Container Management","text":""},{"location":"build/containers/#list-running-containers","title":"List Running Containers","text":"PodmanDocker <pre><code>podman ps\n</code></pre> <pre><code>docker ps\n</code></pre>"},{"location":"build/containers/#list-all-containers","title":"List All Containers","text":"PodmanDocker <pre><code>podman ps -a\n</code></pre> <pre><code>docker ps -a\n</code></pre>"},{"location":"build/containers/#view-container-logs","title":"View Container Logs","text":"PodmanDocker <pre><code>podman logs auth-api\n\n# Follow logs\npodman logs -f auth-api\n\n# Last 100 lines\npodman logs --tail 100 auth-api\n</code></pre> <pre><code>docker logs auth-api\n\n# Follow logs\ndocker logs -f auth-api\n\n# Last 100 lines\ndocker logs --tail 100 auth-api\n</code></pre>"},{"location":"build/containers/#stop-container","title":"Stop Container","text":"PodmanDocker <pre><code>podman stop auth-api\n</code></pre> <pre><code>docker stop auth-api\n</code></pre>"},{"location":"build/containers/#start-stopped-container","title":"Start Stopped Container","text":"PodmanDocker <pre><code>podman start auth-api\n</code></pre> <pre><code>docker start auth-api\n</code></pre>"},{"location":"build/containers/#restart-container","title":"Restart Container","text":"PodmanDocker <pre><code>podman restart auth-api\n</code></pre> <pre><code>docker restart auth-api\n</code></pre>"},{"location":"build/containers/#remove-container","title":"Remove Container","text":"PodmanDocker <pre><code>podman rm auth-api\n\n# Force remove running container\npodman rm -f auth-api\n</code></pre> <pre><code>docker rm auth-api\n\n# Force remove running container\ndocker rm -f auth-api\n</code></pre>"},{"location":"build/containers/#execute-commands-in-container","title":"Execute Commands in Container","text":"PodmanDocker <pre><code># Open shell\npodman exec -it auth-api /bin/bash\n\n# Run single command\npodman exec auth-api ls -la /config/apps\n</code></pre> <pre><code># Open shell\ndocker exec -it auth-api /bin/bash\n\n# Run single command\ndocker exec auth-api ls -la /config/apps\n</code></pre>"},{"location":"build/containers/#image-management","title":"Image Management","text":""},{"location":"build/containers/#list-images","title":"List Images","text":"PodmanDocker <pre><code>podman images\n</code></pre> <pre><code>docker images\n</code></pre>"},{"location":"build/containers/#inspect-image","title":"Inspect Image","text":"PodmanDocker <pre><code>podman inspect authentication-test-api:1.0.0\n</code></pre> <pre><code>docker inspect authentication-test-api:1.0.0\n</code></pre>"},{"location":"build/containers/#remove-image","title":"Remove Image","text":"PodmanDocker <pre><code>podman rmi authentication-test-api:1.0.0\n</code></pre> <pre><code>docker rmi authentication-test-api:1.0.0\n</code></pre>"},{"location":"build/containers/#tag-image","title":"Tag Image","text":"PodmanDocker <pre><code>podman tag authentication-test-api:1.0.0 authentication-test-api:latest\n</code></pre> <pre><code>docker tag authentication-test-api:1.0.0 authentication-test-api:latest\n</code></pre>"},{"location":"build/containers/#save-image-to-file","title":"Save Image to File","text":"PodmanDocker <pre><code>podman save -o auth-api.tar authentication-test-api:1.0.0\n</code></pre> <pre><code>docker save -o auth-api.tar authentication-test-api:1.0.0\n</code></pre>"},{"location":"build/containers/#load-image-from-file","title":"Load Image from File","text":"PodmanDocker <pre><code>podman load -i auth-api.tar\n</code></pre> <pre><code>docker load -i auth-api.tar\n</code></pre>"},{"location":"build/containers/#container-networking","title":"Container Networking","text":""},{"location":"build/containers/#connect-to-keycloak-container","title":"Connect to Keycloak Container","text":"<p>If running Keycloak in a container, create a network:</p> PodmanDocker <pre><code># Create network\npodman network create auth-network\n\n# Run Keycloak\npodman run -d \\\n  --name keycloak \\\n  --network auth-network \\\n  -p 8080:8080 \\\n  -e KEYCLOAK_ADMIN=admin \\\n  -e KEYCLOAK_ADMIN_PASSWORD=admin \\\n  quay.io/keycloak/keycloak:latest start-dev\n\n# Run API\npodman run -d \\\n  --name auth-api \\\n  --network auth-network \\\n  -p 9080:9080 \\\n  -e JWT_JWKS_URI=http://keycloak:8080/realms/secure-test/protocol/openid-connect/certs \\\n  -e JWT_ISSUER=http://keycloak:8080/realms/secure-test \\\n  authentication-test-api:1.0.0\n</code></pre> <pre><code># Create network\ndocker network create auth-network\n\n# Run Keycloak\ndocker run -d \\\n  --name keycloak \\\n  --network auth-network \\\n  -p 8080:8080 \\\n  -e KEYCLOAK_ADMIN=admin \\\n  -e KEYCLOAK_ADMIN_PASSWORD=admin \\\n  quay.io/keycloak/keycloak:latest start-dev\n\n# Run API\ndocker run -d \\\n  --name auth-api \\\n  --network auth-network \\\n  -p 9080:9080 \\\n  -e JWT_JWKS_URI=http://keycloak:8080/realms/secure-test/protocol/openid-connect/certs \\\n  -e JWT_ISSUER=http://keycloak:8080/realms/secure-test \\\n  authentication-test-api:1.0.0\n</code></pre>"},{"location":"build/containers/#health-checks","title":"Health Checks","text":""},{"location":"build/containers/#container-health-check","title":"Container Health Check","text":"<p>Add health check to container:</p> PodmanDocker <pre><code>podman run -d \\\n  --name auth-api \\\n  -p 9080:9080 \\\n  --health-cmd \"curl -f http://localhost:9080/api/v1/hello || exit 1\" \\\n  --health-interval 30s \\\n  --health-timeout 10s \\\n  --health-retries 3 \\\n  authentication-test-api:1.0.0\n</code></pre> <pre><code>docker run -d \\\n  --name auth-api \\\n  -p 9080:9080 \\\n  --health-cmd \"curl -f http://localhost:9080/api/v1/hello || exit 1\" \\\n  --health-interval 30s \\\n  --health-timeout 10s \\\n  --health-retries 3 \\\n  authentication-test-api:1.0.0\n</code></pre>"},{"location":"build/containers/#check-container-health","title":"Check Container Health","text":"PodmanDocker <pre><code>podman inspect --format='{{.State.Health.Status}}' auth-api\n</code></pre> <pre><code>docker inspect --format='{{.State.Health.Status}}' auth-api\n</code></pre>"},{"location":"build/containers/#volume-mounts","title":"Volume Mounts","text":""},{"location":"build/containers/#mount-configuration","title":"Mount Configuration","text":"<p>Mount custom configuration:</p> PodmanDocker <pre><code>podman run -d \\\n  --name auth-api \\\n  -p 9080:9080 \\\n  -v ./custom-config:/config/configDropins/overrides:Z \\\n  authentication-test-api:1.0.0\n</code></pre> <pre><code>docker run -d \\\n  --name auth-api \\\n  -p 9080:9080 \\\n  -v ./custom-config:/config/configDropins/overrides \\\n  authentication-test-api:1.0.0\n</code></pre>"},{"location":"build/containers/#mount-logs","title":"Mount Logs","text":"<p>Persist logs outside container:</p> PodmanDocker <pre><code>podman run -d \\\n  --name auth-api \\\n  -p 9080:9080 \\\n  -v ./logs:/logs:Z \\\n  authentication-test-api:1.0.0\n</code></pre> <pre><code>docker run -d \\\n  --name auth-api \\\n  -p 9080:9080 \\\n  -v ./logs:/logs \\\n  authentication-test-api:1.0.0\n</code></pre>"},{"location":"build/containers/#production-deployment","title":"Production Deployment","text":""},{"location":"build/containers/#resource-limits","title":"Resource Limits","text":"<p>Set CPU and memory limits:</p> PodmanDocker <pre><code>podman run -d \\\n  --name auth-api \\\n  -p 9080:9080 \\\n  --memory=\"1g\" \\\n  --cpus=\"1.0\" \\\n  authentication-test-api:1.0.0\n</code></pre> <pre><code>docker run -d \\\n  --name auth-api \\\n  -p 9080:9080 \\\n  --memory=\"1g\" \\\n  --cpus=\"1.0\" \\\n  authentication-test-api:1.0.0\n</code></pre>"},{"location":"build/containers/#restart-policy","title":"Restart Policy","text":"<p>Auto-restart on failure:</p> PodmanDocker <pre><code>podman run -d \\\n  --name auth-api \\\n  -p 9080:9080 \\\n  --restart=unless-stopped \\\n  authentication-test-api:1.0.0\n</code></pre> <pre><code>docker run -d \\\n  --name auth-api \\\n  -p 9080:9080 \\\n  --restart=unless-stopped \\\n  authentication-test-api:1.0.0\n</code></pre>"},{"location":"build/containers/#troubleshooting","title":"Troubleshooting","text":""},{"location":"build/containers/#container-wont-start","title":"Container Won't Start","text":"<p>Check logs:</p> PodmanDocker <pre><code>podman logs auth-api\n</code></pre> <pre><code>docker logs auth-api\n</code></pre>"},{"location":"build/containers/#port-already-in-use","title":"Port Already in Use","text":"<p>Find and stop conflicting container:</p> PodmanDocker <pre><code>podman ps | grep 9080\npodman stop &lt;container-id&gt;\n</code></pre> <pre><code>docker ps | grep 9080\ndocker stop &lt;container-id&gt;\n</code></pre>"},{"location":"build/containers/#image-build-fails","title":"Image Build Fails","text":"<p>Build with verbose output:</p> PodmanDocker <pre><code>cd API_server\npodman build --no-cache --progress=plain -t authentication-test-api:1.0.0 .\n</code></pre> <pre><code>cd API_server\ndocker build --no-cache --progress=plain -t authentication-test-api:1.0.0 .\n</code></pre>"},{"location":"build/containers/#next-steps","title":"Next Steps","text":"<ul> <li>Running the Server - Deploy and run the application</li> <li>Configuration - Configure environment variables</li> <li>Keycloak Setup - Setup authentication server</li> </ul>"},{"location":"build/containers/#additional-resources","title":"Additional Resources","text":"<ul> <li>Podman Documentation</li> <li>Docker Documentation</li> <li>OpenLiberty Container Images</li> </ul>"},{"location":"build/maven/","title":"Building with Maven","text":"<p>This guide covers building, testing, and packaging the Authentication Test API using Apache Maven.</p> <p>Project Location</p> <p>All Maven commands should be run from the <code>API_server/</code> directory where the <code>pom.xml</code> file is located.</p>"},{"location":"build/maven/#maven-lifecycle","title":"Maven Lifecycle","text":"<p>Maven uses a standard build lifecycle with these main phases:</p> <pre><code>clean \u2192 validate \u2192 compile \u2192 test \u2192 package \u2192 verify \u2192 install \u2192 deploy\n</code></pre>"},{"location":"build/maven/#basic-build-commands","title":"Basic Build Commands","text":""},{"location":"build/maven/#clean-build","title":"Clean Build","text":"<p>Remove all generated files and start fresh:</p> <pre><code>cd API_server\nmvn clean\n</code></pre> <p>This deletes the <code>target/</code> directory within <code>API_server/</code>.</p>"},{"location":"build/maven/#compile","title":"Compile","text":"<p>Compile the source code without running tests:</p> <pre><code>cd API_server\nmvn compile\n</code></pre> <p>Output: Compiled classes in <code>API_server/target/classes/</code></p>"},{"location":"build/maven/#run-tests","title":"Run Tests","text":"<p>Execute unit tests:</p> <pre><code>cd API_server\nmvn test\n</code></pre>"},{"location":"build/maven/#package","title":"Package","text":"<p>Create the WAR file:</p> <pre><code>cd API_server\nmvn package\n</code></pre> <p>Output: <code>API_server/target/authentication-test-api.war</code></p>"},{"location":"build/maven/#full-build","title":"Full Build","text":"<p>Clean, compile, test, and package in one command:</p> <pre><code>cd API_server\nmvn clean package\n</code></pre> <p>This is the most common build command.</p>"},{"location":"build/maven/#development-mode","title":"Development Mode","text":""},{"location":"build/maven/#liberty-dev-mode","title":"Liberty Dev Mode","text":"<p>Run the application with hot reload:</p> <pre><code>cd API_server\nmvn liberty:dev\n</code></pre> <p>Features: - Hot Reload: Automatically recompiles and redeploys on code changes - Test on Save: Runs tests when files change - Debug Ready: Debug port available on 7777 - Interactive: Press Enter to run tests, <code>r</code> to restart</p> <p>Exit with <code>Ctrl+C</code>.</p>"},{"location":"build/maven/#skip-tests","title":"Skip Tests","text":"<p>Build without running tests (faster):</p> <pre><code>cd API_server\nmvn clean package -DskipTests\n</code></pre> <p>Warning</p> <p>Only skip tests during development. Always run tests before committing code.</p>"},{"location":"build/maven/#advanced-build-options","title":"Advanced Build Options","text":""},{"location":"build/maven/#update-dependencies","title":"Update Dependencies","text":"<p>Force update of all dependencies:</p> <pre><code>cd API_server\nmvn clean install -U\n</code></pre> <p>The <code>-U</code> flag forces Maven to check for updated snapshots.</p>"},{"location":"build/maven/#offline-build","title":"Offline Build","text":"<p>Build without downloading dependencies:</p> <pre><code>cd API_server\nmvn clean package -o\n</code></pre> <p>Requires all dependencies to be in local repository.</p>"},{"location":"build/maven/#verbose-output","title":"Verbose Output","text":"<p>Show detailed build information:</p> <pre><code>cd API_server\nmvn clean package -X\n</code></pre> <p>Useful for debugging build issues.</p>"},{"location":"build/maven/#parallel-builds","title":"Parallel Builds","text":"<p>Build faster using multiple threads:</p> <pre><code>cd API_server\nmvn clean package -T 4\n</code></pre> <p>Uses 4 threads. Adjust based on your CPU cores.</p>"},{"location":"build/maven/#build-profiles","title":"Build Profiles","text":""},{"location":"build/maven/#development-profile","title":"Development Profile","text":"<pre><code>cd API_server\nmvn clean package -Pdev\n</code></pre>"},{"location":"build/maven/#production-profile","title":"Production Profile","text":"<pre><code>cd API_server\nmvn clean package -Pprod\n</code></pre> <p>Note</p> <p>Profiles are defined in <code>API_server/pom.xml</code> and can customize build behavior.</p>"},{"location":"build/maven/#liberty-maven-plugin","title":"Liberty Maven Plugin","text":""},{"location":"build/maven/#start-server","title":"Start Server","text":"<p>Start OpenLiberty server:</p> <pre><code>cd API_server\nmvn liberty:start\n</code></pre> <p>Server runs in background.</p>"},{"location":"build/maven/#stop-server","title":"Stop Server","text":"<p>Stop the running server:</p> <pre><code>cd API_server\nmvn liberty:stop\n</code></pre>"},{"location":"build/maven/#run-server","title":"Run Server","text":"<p>Start server in foreground:</p> <pre><code>cd API_server\nmvn liberty:run\n</code></pre> <p>Exit with <code>Ctrl+C</code>.</p>"},{"location":"build/maven/#create-server-package","title":"Create Server Package","text":"<p>Create a runnable server package:</p> <pre><code>cd API_server\nmvn liberty:package\n</code></pre> <p>Output: <code>API_server/target/authentication-test-api.zip</code></p>"},{"location":"build/maven/#deploy-application","title":"Deploy Application","text":"<p>Deploy WAR to running server:</p> <pre><code>cd API_server\nmvn liberty:deploy\n</code></pre>"},{"location":"build/maven/#build-output","title":"Build Output","text":""},{"location":"build/maven/#directory-structure","title":"Directory Structure","text":"<p>After a successful build:</p> <pre><code>API_server/target/\n\u251c\u2500\u2500 authentication-test-api.war          # Deployable WAR file\n\u251c\u2500\u2500 authentication-test-api/             # Exploded WAR\n\u251c\u2500\u2500 classes/                             # Compiled classes\n\u251c\u2500\u2500 generated-sources/                   # Generated code\n\u251c\u2500\u2500 maven-archiver/                      # Maven metadata\n\u251c\u2500\u2500 maven-status/                        # Build status\n\u2514\u2500\u2500 test-classes/                        # Compiled test classes\n</code></pre>"},{"location":"build/maven/#war-file-contents","title":"WAR File Contents","text":"<p>The generated WAR file contains:</p> <pre><code>authentication-test-api.war\n\u251c\u2500\u2500 WEB-INF/\n\u2502   \u251c\u2500\u2500 classes/                         # Application classes\n\u2502   \u2502   \u2514\u2500\u2500 com/example/api/\n\u2502   \u251c\u2500\u2500 lib/                             # Dependencies (if any)\n\u2502   \u2514\u2500\u2500 web.xml                          # Web descriptor (optional)\n\u2514\u2500\u2500 META-INF/\n    \u2514\u2500\u2500 MANIFEST.MF                      # Manifest file\n</code></pre>"},{"location":"build/maven/#dependency-management","title":"Dependency Management","text":""},{"location":"build/maven/#list-dependencies","title":"List Dependencies","text":"<p>Show all project dependencies:</p> <pre><code>cd API_server\nmvn dependency:tree\n</code></pre>"},{"location":"build/maven/#analyze-dependencies","title":"Analyze Dependencies","text":"<p>Check for unused or undeclared dependencies:</p> <pre><code>cd API_server\nmvn dependency:analyze\n</code></pre>"},{"location":"build/maven/#download-sources","title":"Download Sources","text":"<p>Download source JARs for dependencies:</p> <pre><code>cd API_server\nmvn dependency:sources\n</code></pre> <p>Useful for IDE debugging.</p>"},{"location":"build/maven/#download-javadocs","title":"Download Javadocs","text":"<p>Download Javadoc JARs:</p> <pre><code>cd API_server\nmvn dependency:resolve -Dclassifier=javadoc\n</code></pre>"},{"location":"build/maven/#testing","title":"Testing","text":""},{"location":"build/maven/#run-specific-test","title":"Run Specific Test","text":"<p>Run a single test class:</p> <pre><code>cd API_server\nmvn test -Dtest=HelloResourceTest\n</code></pre>"},{"location":"build/maven/#run-test-method","title":"Run Test Method","text":"<p>Run a specific test method:</p> <pre><code>cd API_server\nmvn test -Dtest=HelloResourceTest#testHelloEndpoint\n</code></pre>"},{"location":"build/maven/#skip-tests_1","title":"Skip Tests","text":"<p>Skip test compilation and execution:</p> <pre><code>cd API_server\nmvn package -Dmaven.test.skip=true\n</code></pre>"},{"location":"build/maven/#test-coverage","title":"Test Coverage","text":"<p>Generate test coverage report (requires jacoco plugin):</p> <pre><code>cd API_server\nmvn clean test jacoco:report\n</code></pre> <p>Report: <code>API_server/target/site/jacoco/index.html</code></p>"},{"location":"build/maven/#code-quality","title":"Code Quality","text":""},{"location":"build/maven/#compile-with-warnings","title":"Compile with Warnings","text":"<p>Show all compiler warnings:</p> <pre><code>cd API_server\nmvn clean compile -Xlint:all\n</code></pre>"},{"location":"build/maven/#format-code","title":"Format Code","text":"<p>Format code according to style rules (requires formatter plugin):</p> <pre><code>cd API_server\nmvn formatter:format\n</code></pre>"},{"location":"build/maven/#troubleshooting","title":"Troubleshooting","text":""},{"location":"build/maven/#clear-local-repository","title":"Clear Local Repository","text":"<p>If dependencies are corrupted:</p> <pre><code># Remove project dependencies from local repo\nrm -rf ~/.m2/repository/com/example/authentication-test-api\n\n# Rebuild\ncd API_server\nmvn clean install -U\n</code></pre>"},{"location":"build/maven/#increase-memory","title":"Increase Memory","text":"<p>If build runs out of memory:</p> <pre><code>export MAVEN_OPTS=\"-Xmx2048m -XX:MaxPermSize=512m\"\ncd API_server\nmvn clean package\n</code></pre>"},{"location":"build/maven/#debug-build","title":"Debug Build","text":"<p>Run Maven in debug mode:</p> <pre><code>cd API_server\nmvn clean package -X &gt; build.log 2&gt;&amp;1\n</code></pre> <p>Review <code>build.log</code> for detailed information.</p>"},{"location":"build/maven/#dependency-conflicts","title":"Dependency Conflicts","text":"<p>Resolve dependency conflicts:</p> <pre><code>cd API_server\nmvn dependency:tree -Dverbose\n</code></pre> <p>Look for conflicts marked with <code>(omitted for conflict with X.Y.Z)</code>.</p>"},{"location":"build/maven/#build-best-practices","title":"Build Best Practices","text":""},{"location":"build/maven/#1-always-clean-before-release","title":"1. Always Clean Before Release","text":"<pre><code>cd API_server\nmvn clean package\n</code></pre> <p>Ensures no stale artifacts.</p>"},{"location":"build/maven/#2-run-tests","title":"2. Run Tests","text":"<pre><code>cd API_server\nmvn clean verify\n</code></pre> <p>Runs all tests including integration tests.</p>"},{"location":"build/maven/#3-check-for-updates","title":"3. Check for Updates","text":"<pre><code>cd API_server\nmvn versions:display-dependency-updates\nmvn versions:display-plugin-updates\n</code></pre>"},{"location":"build/maven/#4-verify-build-reproducibility","title":"4. Verify Build Reproducibility","text":"<pre><code>cd API_server\nmvn clean package\nmvn clean package\ndiff target/authentication-test-api.war target/authentication-test-api.war\n</code></pre> <p>Builds should be identical.</p>"},{"location":"build/maven/#cicd-integration","title":"CI/CD Integration","text":""},{"location":"build/maven/#github-actions","title":"GitHub Actions","text":"<pre><code>- name: Build with Maven\n  run: |\n    cd API_server\n    mvn clean package -B\n</code></pre>"},{"location":"build/maven/#gitlab-ci","title":"GitLab CI","text":"<pre><code>build:\n  script:\n    - cd API_server\n    - mvn clean package\n</code></pre>"},{"location":"build/maven/#jenkins","title":"Jenkins","text":"<pre><code>sh 'cd API_server &amp;&amp; mvn clean package'\n</code></pre>"},{"location":"build/maven/#next-steps","title":"Next Steps","text":"<ul> <li>Containerization - Build container images</li> <li>Running the Server - Deploy and run the application</li> <li>Configuration - Configure the application</li> </ul>"},{"location":"build/maven/#additional-resources","title":"Additional Resources","text":"<ul> <li>Maven Documentation</li> <li>Liberty Maven Plugin</li> <li>Maven Lifecycle Reference</li> </ul>"},{"location":"build/running/","title":"Running the Server","text":"<p>Guide for running the Authentication Test API server in different environments.</p>"},{"location":"build/running/#running-options","title":"Running Options","text":"Development ModeProduction ModeContainer <p>The easiest way to run during development with hot reload:</p> <pre><code>cd API_server\nmvn liberty:dev\n</code></pre> <p>Features:</p> <ul> <li>Hot reload on code changes</li> <li>Automatic test execution</li> <li>Debug port on 7777</li> <li>Interactive mode</li> </ul> <p>Access the API at:</p> <ul> <li>HTTP: <code>http://localhost:9080</code></li> <li>HTTPS: <code>https://localhost:9443</code></li> </ul> <p>Press <code>Ctrl+C</code> to stop.</p> <p>Start the server in background:</p> <pre><code>cd API_server\nmvn liberty:start\n</code></pre> <p>Stop the server:</p> <pre><code>cd API_server\nmvn liberty:stop\n</code></pre> <p>See Containerization Guide for detailed instructions on running in containers with Podman or Docker.</p>"},{"location":"build/running/#configuration","title":"Configuration","text":"<p>Set environment variables before starting:</p> <pre><code>export JWT_JWKS_URI=https://keycloak.lab.home/realms/secure-test/protocol/openid-connect/certs\nexport JWT_ISSUER=https://keycloak.lab.home/realms/secure-test\ncd API_server\nmvn liberty:dev\n</code></pre>"},{"location":"build/running/#verification","title":"Verification","text":"<p>Test the server is running:</p> <pre><code>curl http://localhost:9080/api/v1/hello\n</code></pre>"},{"location":"build/running/#next-steps","title":"Next Steps","text":"<ul> <li>API Endpoints</li> <li>Configuration</li> <li>Troubleshooting</li> </ul>"},{"location":"config/environment/","title":"Environment Variables","text":"<p>Configuration options for the Authentication Test API using environment variables.</p>"},{"location":"config/environment/#required-variables","title":"Required Variables","text":""},{"location":"config/environment/#jwt-configuration","title":"JWT Configuration","text":"<pre><code># Keycloak JWKS endpoint for token validation\nexport JWT_JWKS_URI=https://keycloak.lab.home/realms/secure-test/protocol/openid-connect/certs\n\n# JWT token issuer\nexport JWT_ISSUER=https://keycloak.lab.home/realms/secure-test\n</code></pre>"},{"location":"config/environment/#optional-variables","title":"Optional Variables","text":""},{"location":"config/environment/#cors-configuration","title":"CORS Configuration","text":"<pre><code># Allowed origins (comma-separated)\nexport CORS_ALLOWED_ORIGINS=http://localhost:3000,https://app.lab.home\n\n# Allowed HTTP methods\nexport CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS\n\n# Allowed headers\nexport CORS_ALLOWED_HEADERS=Authorization,Content-Type\n</code></pre>"},{"location":"config/environment/#logging","title":"Logging","text":"<pre><code># Log level: TRACE, DEBUG, INFO, WARN, ERROR\nexport LOG_LEVEL=INFO\n</code></pre>"},{"location":"config/environment/#setting-variables","title":"Setting Variables","text":""},{"location":"config/environment/#development-local","title":"Development (Local)","text":"<pre><code># Create .env file (don't commit!)\ncat &gt; .env &lt;&lt; EOF\nJWT_JWKS_URI=http://localhost:8080/realms/secure-test/protocol/openid-connect/certs\nJWT_ISSUER=http://localhost:8080/realms/secure-test\nLOG_LEVEL=DEBUG\nEOF\n\n# Load variables\nsource .env\n\n# Run application\nmvn liberty:dev\n</code></pre>"},{"location":"config/environment/#container-deployment","title":"Container Deployment","text":"<pre><code># Using environment file\npodman run -d \\\n  --name auth-api \\\n  -p 9080:9080 \\\n  --env-file .env \\\n  authentication-test-api:1.0.0\n</code></pre>"},{"location":"config/environment/#production","title":"Production","text":"<p>Use secure secret management: - Kubernetes Secrets - HashiCorp Vault - AWS Secrets Manager - Azure Key Vault</p>"},{"location":"config/environment/#next-steps","title":"Next Steps","text":"<ul> <li>Server Configuration</li> <li>Security Settings</li> </ul>"},{"location":"config/security/","title":"Security Settings","text":"<p>Security configuration and best practices for the Authentication Test API.</p>"},{"location":"config/security/#jwt-token-validation","title":"JWT Token Validation","text":"<ul> <li>Tokens validated using Keycloak's public key (JWKS)</li> <li>Signature verification on every request</li> <li>Token expiration checked automatically</li> </ul>"},{"location":"config/security/#role-based-access-control","title":"Role-Based Access Control","text":"<ul> <li><code>schedule-user</code> role required for <code>/schedule</code> endpoint</li> <li>Roles extracted from JWT token claims</li> <li>Authorization enforced by <code>@RolesAllowed</code> annotation</li> </ul>"},{"location":"config/security/#https-configuration","title":"HTTPS Configuration","text":"<p>For production, always use HTTPS:</p> <ol> <li>Generate or obtain SSL certificate</li> <li>Configure in <code>server.xml</code></li> <li>Redirect HTTP to HTTPS</li> </ol>"},{"location":"config/security/#security-best-practices","title":"Security Best Practices","text":"<ul> <li>Never log JWT tokens or passwords</li> <li>Use environment variables for secrets</li> <li>Enable CORS only for trusted origins</li> <li>Keep dependencies updated</li> <li>Use strong passwords in Keycloak</li> </ul>"},{"location":"config/security/#next-steps","title":"Next Steps","text":"<ul> <li>Environment Variables</li> <li>Keycloak Setup</li> </ul>"},{"location":"config/server/","title":"Server Configuration","text":"<p>OpenLiberty server configuration for the Authentication Test API.</p>"},{"location":"config/server/#configuration-file","title":"Configuration File","text":"<p>The server is configured in <code>src/main/liberty/config/server.xml</code>.</p>"},{"location":"config/server/#key-features","title":"Key Features","text":"<ul> <li>RESTful Web Services (JAX-RS 3.1)</li> <li>JSON Processing (JSON-P 2.1, JSON-B 3.0)</li> <li>CDI 4.0</li> <li>MicroProfile Config 3.1</li> <li>MicroProfile OpenAPI 3.1</li> <li>MicroProfile JWT 2.1</li> </ul>"},{"location":"config/server/#ports","title":"Ports","text":"<ul> <li>HTTP: 9080</li> <li>HTTPS: 9443</li> </ul>"},{"location":"config/server/#next-steps","title":"Next Steps","text":"<ul> <li>Environment Variables</li> <li>Security Settings</li> </ul>"},{"location":"config/ssl-certificates/","title":"SSL Certificate Configuration","text":"<p>This guide explains how to configure OpenLiberty to work with self-signed SSL certificates, which is essential when connecting to Keycloak instances using custom Certificate Authorities (CA).</p>"},{"location":"config/ssl-certificates/#why-is-this-needed","title":"Why is This Needed?","text":"<p>When Keycloak uses self-signed certificates or certificates issued by a custom CA (like a home lab CA), OpenLiberty cannot validate the certificate chain by default. This causes errors when:</p> <ul> <li>Fetching JWKS (JSON Web Key Set) from Keycloak</li> <li>Validating JWT tokens</li> <li>Making any HTTPS requests to Keycloak</li> </ul> <p>Common error: <pre><code>PKIX path building failed: unable to find valid certification path to requested target\n</code></pre></p>"},{"location":"config/ssl-certificates/#understanding-the-certificate-chain","title":"Understanding the Certificate Chain","text":"<p>A typical certificate chain looks like this:</p> <pre><code>Root CA (HomeLab CA Root CA)\n    \u2193\nIntermediate CA (Home Lab Intermediate)\n    \u2193\nServer Certificate (keycloak.lab.home)\n</code></pre> <p>OpenLiberty needs to trust the entire chain to validate the server certificate.</p>"},{"location":"config/ssl-certificates/#prerequisites","title":"Prerequisites","text":"<ul> <li>OpenLiberty installed</li> <li>Access to your CA certificates (root and intermediate)</li> <li>Keycloak running with self-signed certificates</li> </ul>"},{"location":"config/ssl-certificates/#solution-overview","title":"Solution Overview","text":"<p>We need to:</p> <ol> <li>Export CA certificates from Keycloak</li> <li>Import CA certificates into OpenLiberty's truststore</li> <li>Configure OpenLiberty to use the truststore</li> <li>Verify the configuration</li> </ol>"},{"location":"config/ssl-certificates/#step-1-export-ca-certificates","title":"Step 1: Export CA Certificates","text":"From Keycloak ServerFrom BrowserProvided by Administrator <p>If you have access to the Keycloak server:</p> <pre><code># Export the certificate chain from Keycloak\necho | openssl s_client -connect keycloak.lab.home:443 -showcerts 2&gt;/dev/null | \\\n  openssl x509 -outform PEM &gt; keycloak-server.crt\n\n# View certificate details\nopenssl x509 -in keycloak-server.crt -noout -subject -issuer\n</code></pre> <ol> <li>Navigate to Keycloak in your browser</li> <li>Click the padlock icon in the address bar</li> <li>View certificate details</li> <li>Export each certificate in the chain:<ul> <li>Server certificate</li> <li>Intermediate CA certificate</li> <li>Root CA certificate</li> </ul> </li> <li>Save as PEM format (<code>.crt</code> or <code>.pem</code> files)</li> </ol> <p>If your administrator provides the CA certificates, save them to a <code>certs/</code> directory:</p> <pre><code>mkdir -p certs\n# Copy provided certificates\ncp /path/to/root_ca.crt certs/\ncp /path/to/intermediate_ca.crt certs/\n</code></pre>"},{"location":"config/ssl-certificates/#step-2-verify-certificate-chain","title":"Step 2: Verify Certificate Chain","text":"<p>Before importing, verify the certificate chain is complete:</p> <pre><code># Check root CA\nopenssl x509 -in certs/root_ca.crt -noout -subject -issuer\n\n# Check intermediate CA\nopenssl x509 -in certs/intermediate_ca.crt -noout -subject -issuer\n\n# Verify the chain\nopenssl verify -CAfile certs/root_ca.crt certs/intermediate_ca.crt\n</code></pre> <p>Expected output: <pre><code>certs/intermediate_ca.crt: OK\n</code></pre></p>"},{"location":"config/ssl-certificates/#step-3-import-certificates-into-truststore","title":"Step 3: Import Certificates into Truststore","text":"<p>This assumes you have a separate RootCA certificate, and intermediate certificate and a server certificate chain, adjust as needed. OpenLiberty uses a PKCS12 keystore located at: <pre><code>API_server/target/liberty/wlp/usr/servers/authTestServer/resources/security/key.p12\n</code></pre></p>"},{"location":"config/ssl-certificates/#import-root-ca-certificate","title":"Import Root CA Certificate","text":"<pre><code>keytool -import \\\n  -alias homelab-root-ca \\\n  -file certs/root_ca.crt \\\n  -keystore API_server/target/liberty/wlp/usr/servers/authTestServer/resources/security/key.p12 \\\n  -storepass changeit \\\n  -noprompt\n</code></pre>"},{"location":"config/ssl-certificates/#import-intermediate-ca-certificate","title":"Import Intermediate CA Certificate","text":"<pre><code>keytool -import \\\n  -alias homelab-intermediate-ca \\\n  -file certs/intermediate_ca.crt \\\n  -keystore API_server/target/liberty/wlp/usr/servers/authTestServer/resources/security/key.p12 \\\n  -storepass changeit \\\n  -noprompt\n</code></pre>"},{"location":"config/ssl-certificates/#verify-imports","title":"Verify Imports","text":"<p>List all certificates in the keystore:</p> <pre><code>keytool -list \\\n  -keystore API_server/target/liberty/wlp/usr/servers/authTestServer/resources/security/key.p12 \\\n  -storepass changeit\n</code></pre> <p>Expected output: <pre><code>Keystore type: PKCS12\nKeystore provider: SUN\n\nYour keystore contains 8 entries\n\ndefault, 28 Jan 2026, PrivateKeyEntry\nhomelab-root-ca, 28 Jan 2026, trustedCertEntry\nhomelab-intermediate-ca, 28 Jan 2026, trustedCertEntry\n...\n</code></pre></p>"},{"location":"config/ssl-certificates/#step-4-configure-openliberty","title":"Step 4: Configure OpenLiberty","text":""},{"location":"config/ssl-certificates/#update-serverxml","title":"Update server.xml","text":"<p>Configure SSL settings in <code>API_server/src/main/liberty/config/server.xml</code>:</p> <pre><code>&lt;!-- SSL Configuration for JWT/JWKS endpoint --&gt;\n&lt;ssl id=\"jwtSSLConfig\"\n     keyStoreRef=\"defaultKeyStore\"\n     trustDefaultCerts=\"true\"\n     verifyHostname=\"false\"\n     sslProtocol=\"TLSv1.2\"\n     clientAuthentication=\"false\"\n     clientAuthenticationSupported=\"false\"/&gt;\n\n&lt;!-- Outbound SSL configuration for REST clients --&gt;\n&lt;sslDefault outboundSSLRef=\"jwtSSLConfig\"/&gt;\n\n&lt;!-- Keystore configuration --&gt;\n&lt;keyStore id=\"defaultKeyStore\"\n          password=\"changeit\"/&gt;\n\n&lt;!-- MicroProfile JWT Configuration --&gt;\n&lt;mpJwt id=\"jwtConfig\"\n       jwksUri=\"${env.JWT_JWKS_URI}\"\n       issuer=\"${env.JWT_ISSUER}\"\n       audiences=\"authentication-test-api\"\n       groupNameAttribute=\"groups\"\n       userNameAttribute=\"preferred_username\"\n       sslRef=\"jwtSSLConfig\"/&gt;\n</code></pre>"},{"location":"config/ssl-certificates/#key-configuration-options","title":"Key Configuration Options","text":"<ul> <li><code>trustDefaultCerts=\"true\"</code> - Trust system default certificates</li> <li><code>verifyHostname=\"false\"</code> - Disable hostname verification (development only)</li> <li><code>sslProtocol=\"TLSv1.2\"</code> - Use TLS 1.2 or higher</li> <li><code>sslRef=\"jwtSSLConfig\"</code> - Reference SSL configuration in mpJwt</li> </ul> <p>Production Settings</p> <p>For production, set <code>verifyHostname=\"true\"</code> and ensure certificates have correct hostnames.</p>"},{"location":"config/ssl-certificates/#optional-jvm-options-for-development","title":"Optional: JVM Options for Development","text":"<p>For development environments, you can add JVM options to disable strict SSL validation:</p> <p>Create <code>API_server/src/main/liberty/config/jvm.options</code>:</p> <pre><code># Disable strict SSL validation (DEVELOPMENT ONLY)\n-Dcom.ibm.jsse2.overrideDefaultTLS=true\n-Djavax.net.ssl.trustAll=true\n-Djdk.internal.httpclient.disableHostnameVerification=true\n\n# Memory settings\n-Xmx512m\n-Xms256m\n</code></pre> <p>Security Warning</p> <p>Never use these JVM options in production! They disable SSL certificate validation entirely.</p>"},{"location":"config/ssl-certificates/#step-5-restart-openliberty","title":"Step 5: Restart OpenLiberty","text":"<p>After importing certificates and updating configuration:</p> <pre><code># Stop the server\ncd API_server\nmvn liberty:stop\n\n# Start in dev mode\nmvn liberty:dev\n</code></pre> <p>Or for a full restart:</p> <pre><code># Complete restart\ncd API_server\nmvn liberty:stop &amp;&amp; sleep 3 &amp;&amp; mvn liberty:dev\n</code></pre>"},{"location":"config/ssl-certificates/#step-6-verify-configuration","title":"Step 6: Verify Configuration","text":""},{"location":"config/ssl-certificates/#test-jwks-endpoint-access","title":"Test JWKS Endpoint Access","text":"<p>Check if OpenLiberty can now access the Keycloak JWKS endpoint:</p> <pre><code># Check server logs for SSL errors\ntail -f API_server/target/liberty/wlp/usr/servers/authTestServer/logs/messages.log | grep -i \"ssl\\|pkix\\|certificate\"\n</code></pre> <p>Success indicators: - No PKIX errors - No SSL handshake failures - JWT tokens validate successfully</p>"},{"location":"config/ssl-certificates/#test-api-with-jwt-token","title":"Test API with JWT Token","text":"<pre><code># Get token from Keycloak\nTOKEN=$(curl -s -k -X POST https://keycloak.lab.home/realms/secure-test/protocol/openid-connect/token \\\n  -H \"Content-Type: application/x-www-form-urlencoded\" \\\n  -d \"client_id=authentication-test-api\" \\\n  -d \"client_secret=YOUR_CLIENT_SECRET\" \\\n  -d \"grant_type=password\" \\\n  -d \"username=testuser2\" \\\n  -d \"password=YOUR_PASSWORD\" | jq -r '.access_token')\n\n# Test API\ncurl -s http://localhost:9080/api/v1/schedule \\\n  -H \"Authorization: Bearer $TOKEN\" | jq .\n</code></pre> <p>Expected result: 200 OK with schedule data (no SSL errors)</p>"},{"location":"config/ssl-certificates/#troubleshooting","title":"Troubleshooting","text":""},{"location":"config/ssl-certificates/#still-getting-pkix-errors","title":"Still Getting PKIX Errors","text":"<p>Possible causes:</p> <ol> <li>Incomplete certificate chain</li> <li>Verify you imported both root and intermediate CA certificates</li> <li> <p>Check certificate chain with <code>openssl verify</code></p> </li> <li> <p>Server not restarted</p> </li> <li>Truststore changes require a full server restart</li> <li> <p>Use <code>cd API_server &amp;&amp; mvn liberty:stop &amp;&amp; mvn liberty:dev</code></p> </li> <li> <p>Wrong keystore path</p> </li> <li>Verify keystore location matches server.xml configuration</li> <li>Check file permissions</li> </ol>"},{"location":"config/ssl-certificates/#certificate-import-failed","title":"Certificate Import Failed","text":"<pre><code># Check if certificate is valid\nopenssl x509 -in certs/root_ca.crt -text -noout\n\n# Verify certificate format (should be PEM)\nhead -1 certs/root_ca.crt\n# Should show: -----BEGIN CERTIFICATE-----\n</code></pre>"},{"location":"config/ssl-certificates/#hostname-verification-errors","title":"Hostname Verification Errors","text":"<p>If you see hostname verification errors:</p> <pre><code>&lt;!-- Temporarily disable for development --&gt;\n&lt;ssl id=\"jwtSSLConfig\"\n     ...\n     verifyHostname=\"false\"/&gt;\n</code></pre> <p>For production, ensure certificates have correct Subject Alternative Names (SAN).</p>"},{"location":"config/ssl-certificates/#automated-certificate-import-script","title":"Automated Certificate Import Script","text":"<p>Create a script to automate certificate import:</p> <pre><code>#!/bin/bash\n# import_ca_certs.sh\n\nKEYSTORE=\"API_server/target/liberty/wlp/usr/servers/authTestServer/resources/security/key.p12\"\nSTOREPASS=\"changeit\"\n\n# Import root CA\nkeytool -import \\\n  -alias homelab-root-ca \\\n  -file certs/root_ca.crt \\\n  -keystore \"$KEYSTORE\" \\\n  -storepass \"$STOREPASS\" \\\n  -noprompt\n\n# Import intermediate CA\nkeytool -import \\\n  -alias homelab-intermediate-ca \\\n  -file certs/intermediate_ca.crt \\\n  -keystore \"$KEYSTORE\" \\\n  -storepass \"$STOREPASS\" \\\n  -noprompt\n\necho \"Certificates imported successfully\"\nkeytool -list -keystore \"$KEYSTORE\" -storepass \"$STOREPASS\" | grep -i \"homelab\"\n</code></pre> <p>Make it executable:</p> <pre><code>chmod +x import_ca_certs.sh\n./import_ca_certs.sh\n</code></pre>"},{"location":"config/ssl-certificates/#production-considerations","title":"Production Considerations","text":""},{"location":"config/ssl-certificates/#use-proper-certificates","title":"Use Proper Certificates","text":"<p>For production:</p> <ol> <li>Use certificates from trusted CA (Let's Encrypt, DigiCert, etc.)</li> <li>Enable hostname verification</li> <li>Remove JVM SSL bypass options</li> <li>Use strong keystore passwords</li> <li>Regularly rotate certificates</li> </ol>"},{"location":"config/ssl-certificates/#certificate-renewal","title":"Certificate Renewal","text":"<p>When certificates are renewed:</p> <ol> <li>Export new certificates</li> <li>Remove old certificates from truststore:    <pre><code>keytool -delete -alias homelab-root-ca \\\n  -keystore \"$KEYSTORE\" -storepass \"$STOREPASS\"\n</code></pre></li> <li>Import new certificates</li> <li>Restart server</li> </ol>"},{"location":"config/ssl-certificates/#monitoring-certificate-expiration","title":"Monitoring Certificate Expiration","text":"<p>Check certificate expiration dates:</p> <pre><code># Check certificate validity\nopenssl x509 -in certs/root_ca.crt -noout -dates\n\n# Check keystore certificates\nkeytool -list -v \\\n  -keystore target/liberty/wlp/usr/servers/authTestServer/resources/security/key.p12 \\\n  -storepass changeit | grep -A2 \"Valid\"\n</code></pre>"},{"location":"config/ssl-certificates/#next-steps","title":"Next Steps","text":"<ul> <li>Keycloak Setup - Configure Keycloak realm</li> <li>Groups Mapper - Configure role mapping</li> <li>Troubleshooting - Common issues</li> </ul>"},{"location":"config/ssl-certificates/#references","title":"References","text":"<ul> <li>OpenLiberty SSL Configuration</li> <li>Java Keytool Documentation</li> <li>OpenSSL Documentation</li> </ul>"},{"location":"deployment/github-pages/","title":"Deploying Documentation to GitHub Pages","text":"<p>This guide explains how to deploy the MkDocs documentation to GitHub Pages.</p>"},{"location":"deployment/github-pages/#prerequisites","title":"Prerequisites","text":"<ul> <li>Git repository on GitHub</li> <li>Python 3.8+ installed</li> <li>Write access to the repository</li> </ul>"},{"location":"deployment/github-pages/#deployment-options","title":"Deployment Options","text":"Manual DeploymentGitHub Actions (Automated)Mike (Versioned Documentation) <p>Step 1: Install MkDocs</p> <pre><code># Install MkDocs and dependencies\npip install -r requirements.txt\n\n# Verify installation\nmkdocs --version\n</code></pre> <p>Step 2: Build Documentation</p> <pre><code># Build the documentation\nmkdocs build\n\n# This creates a 'site' directory with static HTML\n</code></pre> <p>Step 3: Deploy to GitHub Pages</p> <pre><code># Deploy to gh-pages branch\nmkdocs gh-deploy\n\n# This will:\n# 1. Build the documentation\n# 2. Push to gh-pages branch\n# 3. Make it available at https://yourusername.github.io/authentication_test\n</code></pre> <p>Step 4: Configure GitHub Pages</p> <ol> <li>Go to your repository on GitHub</li> <li>Click \"Settings\"</li> <li>Scroll to \"Pages\" section</li> <li>Under \"Source\", select:</li> <li>Branch: <code>gh-pages</code></li> <li>Folder: <code>/ (root)</code></li> <li>Click \"Save\"</li> </ol> <p>Your documentation will be available at: <pre><code>https://yourusername.github.io/authentication_test\n</code></pre></p> <p>Step 1: Create Workflow File</p> <p>Create <code>.github/workflows/docs.yml</code>:</p> <pre><code>name: Deploy Documentation\n\non:\n  push:\n    branches:\n      - main\n    paths:\n      - 'docs/**'\n      - 'mkdocs.yml'\n      - 'requirements.txt'\n      - '.github/workflows/docs.yml'\n  workflow_dispatch:\n\npermissions:\n  contents: write\n\njobs:\n  deploy:\n    runs-on: ubuntu-latest\n    steps:\n      - name: Checkout code\n        uses: actions/checkout@v4\n        with:\n          fetch-depth: 0\n\n      - name: Setup Python\n        uses: actions/setup-python@v5\n        with:\n          python-version: 3.x\n\n      - name: Cache dependencies\n        uses: actions/cache@v3\n        with:\n          key: ${{ github.ref }}\n          path: .cache\n\n      - name: Install dependencies\n        run: pip install -r requirements.txt\n\n      - name: Build and deploy\n        run: mkdocs gh-deploy --force\n</code></pre> <p>Step 2: Commit and Push</p> <pre><code>git add .github/workflows/docs.yml\ngit commit -m \"Add GitHub Actions workflow for documentation\"\ngit push origin main\n</code></pre> <p>Step 3: Verify Deployment</p> <ol> <li>Go to \"Actions\" tab in your repository</li> <li>Watch the workflow run</li> <li>Once complete, visit your documentation site</li> </ol> <p>Mike allows you to maintain multiple versions of documentation.</p> <p>Install Mike:</p> <pre><code>pip install mike\n</code></pre> <p>Deploy Version:</p> <pre><code># Deploy version 1.0\nmike deploy --push --update-aliases 1.0 latest\n\n# Set default version\nmike set-default --push latest\n</code></pre> <p>View Versions Locally:</p> <pre><code>mike serve\n</code></pre> <p>Visit: <code>http://localhost:8000</code></p>"},{"location":"deployment/github-pages/#customizing-deployment","title":"Customizing Deployment","text":""},{"location":"deployment/github-pages/#custom-domain","title":"Custom Domain","text":"<ol> <li> <p>Create <code>docs/CNAME</code> file:    <pre><code>docs.example.com\n</code></pre></p> </li> <li> <p>Configure DNS:</p> </li> <li> <p>Add CNAME record pointing to <code>yourusername.github.io</code></p> </li> <li> <p>In GitHub Settings \u2192 Pages:</p> </li> <li>Enter custom domain</li> <li>Enable \"Enforce HTTPS\"</li> </ol>"},{"location":"deployment/github-pages/#update-mkdocsyml","title":"Update mkdocs.yml","text":"<pre><code>site_url: https://docs.example.com\nrepo_url: https://github.com/yourusername/authentication_test\n</code></pre>"},{"location":"deployment/github-pages/#local-development","title":"Local Development","text":""},{"location":"deployment/github-pages/#serve-locally","title":"Serve Locally","text":"<pre><code># Start development server\nmkdocs serve\n\n# With live reload\nmkdocs serve --dev-addr=0.0.0.0:8000\n</code></pre> <p>Visit: <code>http://localhost:8000</code></p>"},{"location":"deployment/github-pages/#build-only","title":"Build Only","text":"<pre><code># Build without deploying\nmkdocs build\n\n# Build to custom directory\nmkdocs build --site-dir custom_site\n</code></pre>"},{"location":"deployment/github-pages/#clean-build","title":"Clean Build","text":"<pre><code># Remove site directory\nrm -rf site\n\n# Rebuild\nmkdocs build\n</code></pre>"},{"location":"deployment/github-pages/#troubleshooting","title":"Troubleshooting","text":""},{"location":"deployment/github-pages/#build-fails","title":"Build Fails","text":"<p>Check for errors:</p> <pre><code>mkdocs build --verbose\n</code></pre> <p>Common issues: - Missing dependencies: <code>pip install -r requirements.txt</code> - Invalid YAML in mkdocs.yml - Broken links in documentation</p>"},{"location":"deployment/github-pages/#deployment-fails","title":"Deployment Fails","text":"<ol> <li>Check GitHub Actions logs</li> <li>Verify permissions:    <pre><code>permissions:\n  contents: write\n</code></pre></li> <li>Ensure gh-pages branch exists</li> </ol>"},{"location":"deployment/github-pages/#site-not-updating","title":"Site Not Updating","text":"<ol> <li>Clear browser cache</li> <li>Wait a few minutes for GitHub Pages to update</li> <li>Check GitHub Actions workflow completed successfully</li> <li>Verify gh-pages branch has new commits</li> </ol>"},{"location":"deployment/github-pages/#404-errors","title":"404 Errors","text":"<ol> <li>Check <code>site_url</code> in mkdocs.yml</li> <li>Verify GitHub Pages is enabled</li> <li>Ensure gh-pages branch is selected as source</li> </ol>"},{"location":"deployment/github-pages/#best-practices","title":"Best Practices","text":""},{"location":"deployment/github-pages/#1-version-control","title":"1. Version Control","text":"<p>Don't commit the <code>site/</code> directory:</p> <pre><code># .gitignore\nsite/\n.cache/\n</code></pre>"},{"location":"deployment/github-pages/#2-documentation-structure","title":"2. Documentation Structure","text":"<p>Keep documentation organized:</p> <pre><code>docs/\n\u251c\u2500\u2500 index.md\n\u251c\u2500\u2500 getting-started/\n\u251c\u2500\u2500 build/\n\u251c\u2500\u2500 keycloak/\n\u251c\u2500\u2500 api/\n\u251c\u2500\u2500 config/\n\u251c\u2500\u2500 troubleshooting/\n\u2514\u2500\u2500 development/\n</code></pre>"},{"location":"deployment/github-pages/#3-regular-updates","title":"3. Regular Updates","text":"<p>Update documentation with code changes:</p> <pre><code># After code changes\ngit add docs/\ngit commit -m \"Update documentation\"\ngit push\n</code></pre>"},{"location":"deployment/github-pages/#4-review-before-deploy","title":"4. Review Before Deploy","text":"<p>Always review locally:</p> <pre><code>mkdocs serve\n# Review at http://localhost:8000\nmkdocs gh-deploy\n</code></pre>"},{"location":"deployment/github-pages/#5-use-branches","title":"5. Use Branches","text":"<p>For major documentation changes:</p> <pre><code>git checkout -b docs/update-api-guide\n# Make changes\ngit push origin docs/update-api-guide\n# Create pull request\n</code></pre>"},{"location":"deployment/github-pages/#monitoring","title":"Monitoring","text":""},{"location":"deployment/github-pages/#search","title":"Search","text":"<p>MkDocs Material includes built-in search. No configuration needed.</p>"},{"location":"deployment/github-pages/#maintenance","title":"Maintenance","text":""},{"location":"deployment/github-pages/#update-dependencies","title":"Update Dependencies","text":"<pre><code># Update all dependencies\npip install --upgrade -r requirements.txt\n\n# Update specific package\npip install --upgrade mkdocs-material\n</code></pre>"},{"location":"deployment/github-pages/#check-for-broken-links","title":"Check for Broken Links","text":"<pre><code># Install linkchecker\npip install linkchecker\n\n# Check links\nmkdocs build\nlinkchecker site/\n</code></pre>"},{"location":"deployment/github-pages/#additional-resources","title":"Additional Resources","text":"<ul> <li>MkDocs Documentation</li> <li>Material for MkDocs</li> <li>GitHub Pages Documentation</li> <li>Mike Documentation</li> </ul>"},{"location":"deployment/github-pages/#next-steps","title":"Next Steps","text":"<ul> <li>Contributing Guide</li> <li>Project Structure</li> </ul>"},{"location":"development/contributing/","title":"Contributing Guide","text":"<p>Guidelines for contributing to the Authentication Test API project.</p>"},{"location":"development/contributing/#getting-started","title":"Getting Started","text":"<ol> <li>Fork the repository</li> <li>Clone your fork</li> <li>Create a feature branch</li> <li>Make your changes</li> <li>Submit a pull request</li> </ol>"},{"location":"development/contributing/#development-setup","title":"Development Setup","text":"<pre><code># Clone repository\ngit clone https://github.com/yourusername/authentication_test.git\ncd authentication_test\n\n# Build project\nmvn clean package\n\n# Run in development mode\nmvn liberty:dev\n</code></pre>"},{"location":"development/contributing/#code-style","title":"Code Style","text":"<ul> <li>Follow Java naming conventions</li> <li>Use meaningful variable names</li> <li>Add JavaDoc comments for public methods</li> <li>Keep methods focused and concise</li> </ul>"},{"location":"development/contributing/#testing","title":"Testing","text":"<ul> <li>Write unit tests for new features</li> <li>Ensure all tests pass before submitting PR</li> <li>Aim for 80%+ code coverage</li> </ul> <pre><code>mvn test\n</code></pre>"},{"location":"development/contributing/#documentation","title":"Documentation","text":"<ul> <li>Update documentation for new features</li> <li>Keep README.md current</li> <li>Add examples for new endpoints</li> </ul>"},{"location":"development/contributing/#pull-request-process","title":"Pull Request Process","text":"<ol> <li>Update documentation</li> <li>Add tests for new features</li> <li>Ensure build passes</li> <li>Request review from maintainers</li> </ol>"},{"location":"development/contributing/#next-steps","title":"Next Steps","text":"<ul> <li>Project Structure</li> <li>Building with Maven</li> </ul>"},{"location":"development/structure/","title":"Project Structure","text":"<p>Overview of the Authentication Test API project organization.</p>"},{"location":"development/structure/#directory-layout","title":"Directory Layout","text":"<pre><code>authentication_test/\n\u251c\u2500\u2500 .github/\n\u2502   \u2514\u2500\u2500 workflows/\n\u2502       \u2514\u2500\u2500 docs.yml              # GitHub Actions for docs deployment\n\u251c\u2500\u2500 docs/                         # MkDocs documentation\n\u2502   \u251c\u2500\u2500 mkdocs.yml               # MkDocs configuration\n\u2502   \u251c\u2500\u2500 requirements.txt         # Python dependencies for docs\n\u2502   \u2514\u2500\u2500 docs/                    # Documentation source files\n\u251c\u2500\u2500 API_server/                   # API Server application\n\u2502   \u251c\u2500\u2500 src/\n\u2502   \u2502   \u251c\u2500\u2500 main/\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 java/com/example/api/\n\u2502   \u2502   \u2502   \u2502   \u251c\u2500\u2500 config/      # Configuration classes\n\u2502   \u2502   \u2502   \u2502   \u251c\u2500\u2500 model/       # Data models\n\u2502   \u2502   \u2502   \u2502   \u251c\u2500\u2500 resource/    # JAX-RS endpoints\n\u2502   \u2502   \u2502   \u2502   \u251c\u2500\u2500 service/     # Business logic\n\u2502   \u2502   \u2502   \u2502   \u2514\u2500\u2500 exception/   # Exception handlers\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 resources/\n\u2502   \u2502   \u2502   \u2502   \u2514\u2500\u2500 META-INF/\n\u2502   \u2502   \u2502   \u2502       \u2514\u2500\u2500 microprofile-config.properties\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 liberty/\n\u2502   \u2502   \u2502       \u2514\u2500\u2500 config/\n\u2502   \u2502   \u2502           \u2514\u2500\u2500 server.xml   # OpenLiberty configuration\n\u2502   \u2502   \u2514\u2500\u2500 test/\n\u2502   \u2502       \u2514\u2500\u2500 java/            # Test classes\n\u2502   \u251c\u2500\u2500 pom.xml                  # Maven configuration\n\u2502   \u251c\u2500\u2500 Containerfile            # Container build file\n\u2502   \u2514\u2500\u2500 spec.md                  # API specification\n\u2514\u2500\u2500 README.md                    # Project README\n</code></pre>"},{"location":"development/structure/#key-components","title":"Key Components","text":""},{"location":"development/structure/#configuration-config","title":"Configuration (<code>config/</code>)","text":"<ul> <li><code>ApiApplication.java</code> - JAX-RS application and OpenAPI config</li> </ul>"},{"location":"development/structure/#models-model","title":"Models (<code>model/</code>)","text":"<ul> <li><code>Schedule.java</code> - User schedule response</li> <li><code>ScheduleItem.java</code> - Individual schedule entry</li> <li><code>HelloResponse.java</code> - Health check response</li> <li><code>ErrorResponse.java</code> - Standard error format</li> </ul>"},{"location":"development/structure/#resources-resource","title":"Resources (<code>resource/</code>)","text":"<ul> <li><code>HelloResource.java</code> - Health check endpoint</li> <li><code>ScheduleResource.java</code> - Schedule endpoint (secured)</li> </ul>"},{"location":"development/structure/#services-service","title":"Services (<code>service/</code>)","text":"<ul> <li><code>ScheduleService.java</code> - Schedule generation logic</li> </ul>"},{"location":"development/structure/#exception-handling-exception","title":"Exception Handling (<code>exception/</code>)","text":"<ul> <li><code>GlobalExceptionMapper.java</code> - Centralized error handling</li> </ul>"},{"location":"development/structure/#next-steps","title":"Next Steps","text":"<ul> <li>Contributing Guide</li> <li>Building with Maven</li> </ul>"},{"location":"getting-started/overview/","title":"Overview","text":"<p>The Authentication Test API is a modern, secure RESTful API server designed to demonstrate best practices for building enterprise-grade Java applications with OAuth 2.0 authentication.</p>"},{"location":"getting-started/overview/#what-is-authentication-test-api","title":"What is Authentication Test API?","text":"<p>This API provides a simple yet complete example of:</p> <ul> <li>Secure Authentication - OAuth 2.0 with JWT tokens via Keycloak</li> <li>Role-Based Authorization - Fine-grained access control</li> <li>RESTful Design - Clean, predictable API endpoints</li> <li>Enterprise Standards - Jakarta EE 10 and MicroProfile 6.1</li> <li>Cloud-Native - Containerized deployment with OpenLiberty</li> </ul>"},{"location":"getting-started/overview/#use-cases","title":"Use Cases","text":"<p>The Authentication Test API is ideal for:</p> <ul> <li>Learning - Understanding OAuth 2.0 and JWT authentication</li> <li>Prototyping - Quick start for new secure API projects</li> <li>Reference - Best practices for Java enterprise applications</li> <li>Testing - Validating authentication and authorization flows</li> </ul>"},{"location":"getting-started/overview/#core-concepts","title":"Core Concepts","text":""},{"location":"getting-started/overview/#authentication-flow","title":"Authentication Flow","text":"<pre><code>sequenceDiagram\n    participant Client\n    participant API\n    participant Keycloak\n\n    Client-&gt;&gt;Keycloak: 1. Request token (username/password)\n    Keycloak-&gt;&gt;Client: 2. Return JWT token\n    Client-&gt;&gt;API: 3. API request with JWT token\n    API-&gt;&gt;Keycloak: 4. Validate token (JWKS)\n    Keycloak-&gt;&gt;API: 5. Token valid\n    API-&gt;&gt;Client: 6. Return response\n</code></pre>"},{"location":"getting-started/overview/#key-components","title":"Key Components","text":""},{"location":"getting-started/overview/#1-openliberty-server","title":"1. OpenLiberty Server","text":"<p>Lightweight, cloud-native Java application server that provides: - Fast startup times - Small memory footprint - Full Jakarta EE and MicroProfile support</p>"},{"location":"getting-started/overview/#2-keycloak","title":"2. Keycloak","text":"<p>Open-source Identity and Access Management solution providing: - OAuth 2.0 and OpenID Connect - User management - Role-based access control - Token management</p>"},{"location":"getting-started/overview/#3-microprofile-jwt","title":"3. MicroProfile JWT","text":"<p>Specification for using JWT tokens in microservices: - Token validation - Claims extraction - Role mapping</p>"},{"location":"getting-started/overview/#api-structure","title":"API Structure","text":""},{"location":"getting-started/overview/#base-path","title":"Base Path","text":"<p>All API endpoints are prefixed with <code>/api/v1</code></p>"},{"location":"getting-started/overview/#endpoints","title":"Endpoints","text":"Endpoint Method Auth Required Description <code>/api/v1/hello</code> GET No Health check <code>/api/v1/schedule</code> GET Yes User schedule"},{"location":"getting-started/overview/#authentication","title":"Authentication","text":"<p>Protected endpoints require: 1. Valid JWT token in <code>Authorization</code> header 2. Token format: <code>Bearer &lt;token&gt;</code> 3. Required role: <code>schedule-user</code></p>"},{"location":"getting-started/overview/#security-model","title":"Security Model","text":""},{"location":"getting-started/overview/#token-based-authentication","title":"Token-Based Authentication","text":"<ul> <li>JWT tokens issued by Keycloak</li> <li>Tokens contain user identity and roles</li> <li>Tokens are cryptographically signed</li> <li>API validates signature using Keycloak's public key</li> </ul>"},{"location":"getting-started/overview/#role-based-authorization","title":"Role-Based Authorization","text":"<ul> <li>Users must have <code>schedule-user</code> role</li> <li>Roles are checked on each request</li> <li>Missing roles result in 403 Forbidden</li> </ul>"},{"location":"getting-started/overview/#next-steps","title":"Next Steps","text":"<ol> <li>Check Prerequisites - Ensure you have required tools</li> <li>Quick Start - Get the API running</li> <li>Build with Maven - Learn the build process</li> <li>Setup Keycloak - Configure authentication</li> </ol>"},{"location":"getting-started/prerequisites/","title":"Prerequisites","text":"<p>Before you begin, ensure you have the following tools and software installed on your system.</p>"},{"location":"getting-started/prerequisites/#required-software","title":"Required Software","text":""},{"location":"getting-started/prerequisites/#java-development-kit-jdk-21","title":"Java Development Kit (JDK) 21+","text":"<p>The application requires Java 21 or later.</p> macOSLinuxWindows <pre><code># Using Homebrew\nbrew install openjdk@21\n\n# Verify installation\njava -version\n</code></pre> <pre><code># Ubuntu/Debian\nsudo apt update\nsudo apt install openjdk-21-jdk\n\n# RHEL/Fedora\nsudo dnf install java-21-openjdk-devel\n\n# Verify installation\njava -version\n</code></pre> <p>Download and install from Adoptium or Oracle</p> <p>Verify installation in PowerShell: <pre><code>java -version\n</code></pre></p>"},{"location":"getting-started/prerequisites/#apache-maven-39","title":"Apache Maven 3.9+","text":"<p>Maven is required for building the application.</p> macOSLinuxWindows <pre><code># Using Homebrew\nbrew install maven\n\n# Verify installation\nmvn -version\n</code></pre> <pre><code># Ubuntu/Debian\nsudo apt update\nsudo apt install maven\n\n# RHEL/Fedora\nsudo dnf install maven\n\n# Verify installation\nmvn -version\n</code></pre> <p>Download from Apache Maven</p> <ol> <li>Extract to <code>C:\\Program Files\\Maven</code></li> <li>Add <code>C:\\Program Files\\Maven\\bin</code> to PATH</li> <li>Verify in PowerShell: <pre><code>mvn -version\n</code></pre></li> </ol>"},{"location":"getting-started/prerequisites/#container-runtime-optional","title":"Container Runtime (Optional)","text":"<p>For containerized deployment, install either Podman or Docker.</p> Podman (Recommended)Docker <p>macOS: <pre><code>brew install podman\npodman machine init\npodman machine start\n</code></pre></p> <p>Linux: <pre><code># Ubuntu/Debian\nsudo apt update\nsudo apt install podman\n\n# RHEL/Fedora\nsudo dnf install podman\n</code></pre></p> <p>Verify: <pre><code>podman --version\n</code></pre></p> <p>macOS/Windows: Download Docker Desktop</p> <p>Linux: <pre><code># Ubuntu/Debian\ncurl -fsSL https://get.docker.com -o get-docker.sh\nsudo sh get-docker.sh\n\n# Add user to docker group\nsudo usermod -aG docker $USER\n</code></pre></p> <p>Verify: <pre><code>docker --version\n</code></pre></p>"},{"location":"getting-started/prerequisites/#keycloak-server","title":"Keycloak Server","text":"<p>You need access to a Keycloak server for authentication.</p> <p>Option 1: Use Existing Keycloak - URL: <code>https://keycloak.lab.home</code> - Admin access required for realm configuration</p> <p>Option 2: Run Keycloak Locally</p> Using PodmanUsing Docker <pre><code>podman run -d \\\n  --name keycloak \\\n  -p 8080:8080 \\\n  -e KEYCLOAK_ADMIN=admin \\\n  -e KEYCLOAK_ADMIN_PASSWORD=admin \\\n  quay.io/keycloak/keycloak:latest \\\n  start-dev\n</code></pre> <pre><code>docker run -d \\\n  --name keycloak \\\n  -p 8080:8080 \\\n  -e KEYCLOAK_ADMIN=admin \\\n  -e KEYCLOAK_ADMIN_PASSWORD=admin \\\n  quay.io/keycloak/keycloak:latest \\\n  start-dev\n</code></pre> <p>Access Keycloak at: <code>http://localhost:8080</code></p>"},{"location":"getting-started/prerequisites/#optional-tools","title":"Optional Tools","text":""},{"location":"getting-started/prerequisites/#git","title":"Git","text":"<p>For version control and cloning the repository.</p> macOSLinuxWindows <pre><code>brew install git\n</code></pre> <pre><code># Ubuntu/Debian\nsudo apt install git\n\n# RHEL/Fedora\nsudo dnf install git\n</code></pre> <p>Download from Git for Windows</p>"},{"location":"getting-started/prerequisites/#curl","title":"curl","text":"<p>For testing API endpoints.</p> macOS/LinuxWindows <p>Usually pre-installed. Verify with: <pre><code>curl --version\n</code></pre></p> <p>Included in Windows 10+ or download from curl.se</p>"},{"location":"getting-started/prerequisites/#jq","title":"jq","text":"<p>For formatting JSON responses.</p> macOSLinuxWindows <pre><code>brew install jq\n</code></pre> <pre><code># Ubuntu/Debian\nsudo apt install jq\n\n# RHEL/Fedora\nsudo dnf install jq\n</code></pre> <p>Download from stedolan.github.io/jq</p>"},{"location":"getting-started/prerequisites/#system-requirements","title":"System Requirements","text":""},{"location":"getting-started/prerequisites/#minimum-requirements","title":"Minimum Requirements","text":"<ul> <li>CPU: 2 cores</li> <li>RAM: 2 GB</li> <li>Disk: 1 GB free space</li> <li>OS: macOS 10.15+, Linux (any modern distro), Windows 10+</li> </ul>"},{"location":"getting-started/prerequisites/#recommended-requirements","title":"Recommended Requirements","text":"<ul> <li>CPU: 4 cores</li> <li>RAM: 4 GB</li> <li>Disk: 5 GB free space</li> <li>Network: Internet connection for downloading dependencies</li> </ul>"},{"location":"getting-started/prerequisites/#verification-checklist","title":"Verification Checklist","text":"<p>Before proceeding, verify all required tools are installed:</p> <ul> <li>[ ] Java 21+ installed (<code>java -version</code>)</li> <li>[ ] Maven 3.9+ installed (<code>mvn -version</code>)</li> <li>[ ] Container runtime installed (optional) (<code>podman --version</code> or <code>docker --version</code>)</li> <li>[ ] Keycloak server accessible</li> <li>[ ] Git installed (optional) (<code>git --version</code>)</li> <li>[ ] curl installed (optional) (<code>curl --version</code>)</li> </ul>"},{"location":"getting-started/prerequisites/#next-steps","title":"Next Steps","text":"<p>Once all prerequisites are met:</p> <ol> <li>Quick Start Guide - Get the API running quickly</li> <li>Building with Maven - Learn the build process</li> <li>Keycloak Setup - Configure authentication</li> </ol>"},{"location":"getting-started/prerequisites/#troubleshooting","title":"Troubleshooting","text":""},{"location":"getting-started/prerequisites/#java-version-issues","title":"Java Version Issues","text":"<p>If you have multiple Java versions installed:</p> <pre><code># Check all installed versions\n/usr/libexec/java_home -V  # macOS\nupdate-alternatives --config java  # Linux\n\n# Set JAVA_HOME\nexport JAVA_HOME=$(/usr/libexec/java_home -v 21)  # macOS\nexport JAVA_HOME=/usr/lib/jvm/java-21-openjdk  # Linux\n</code></pre>"},{"location":"getting-started/prerequisites/#maven-issues","title":"Maven Issues","text":"<p>If Maven can't find Java:</p> <pre><code># Set JAVA_HOME before running Maven\nexport JAVA_HOME=/path/to/java21\nmvn -version\n</code></pre>"},{"location":"getting-started/prerequisites/#container-runtime-issues","title":"Container Runtime Issues","text":"<p>If Podman machine won't start:</p> <pre><code>podman machine stop\npodman machine rm\npodman machine init\npodman machine start\n</code></pre> <p>For more help, see Troubleshooting Guide.</p>"},{"location":"getting-started/quick-start/","title":"Quick Start Guide","text":"<p>Get the Authentication Test API up and running in just a few minutes.</p>"},{"location":"getting-started/quick-start/#step-1-clone-or-download","title":"Step 1: Clone or Download","text":"<p>If you have the source code, navigate to the project directory:</p> <pre><code>cd authentication_test/API_server\n</code></pre>"},{"location":"getting-started/quick-start/#step-2-build-the-application","title":"Step 2: Build the Application","text":"<p>Build the application using Maven:</p> <pre><code>cd API_server\nmvn clean package\n</code></pre> <p>This will: - Compile the Java source code - Run tests - Package the application as a WAR file - Output: <code>target/authentication-test-api.war</code></p> <p>Expected output: <pre><code>[INFO] BUILD SUCCESS\n[INFO] Total time: 45.123 s\n</code></pre></p>"},{"location":"getting-started/quick-start/#step-3-run-with-maven-development","title":"Step 3: Run with Maven (Development)","text":"<p>The fastest way to run the application for development:</p> <pre><code>cd API_server\nmvn liberty:dev\n</code></pre> <p>This starts the server in development mode with: - Hot reload on code changes - Automatic test execution - Debug port on 7777</p> <p>Wait for: <pre><code>[INFO] CWWKF0011I: The authTestServer server is ready to run a smarter planet.\n</code></pre></p> <p>The API is now available at: - HTTP: <code>http://localhost:9080</code> - HTTPS: <code>https://localhost:9443</code></p>"},{"location":"getting-started/quick-start/#step-4-test-the-health-endpoint","title":"Step 4: Test the Health Endpoint","text":"<p>Open a new terminal and test the public health endpoint:</p> <pre><code>curl http://localhost:9080/api/v1/hello\n</code></pre> <p>Expected response: <pre><code>{\n  \"hostname\": \"your-hostname\",\n  \"serverTime\": \"2026-01-27T17:00:00Z\",\n  \"apiVersion\": \"1.0.0\",\n  \"status\": \"healthy\"\n}\n</code></pre></p> <p>\u2705 Success! The API is running.</p>"},{"location":"getting-started/quick-start/#step-5-setup-keycloak-required-for-protected-endpoints","title":"Step 5: Setup Keycloak (Required for Protected Endpoints)","text":"<p>To access the protected <code>/api/v1/schedule</code> endpoint, you need to configure Keycloak.</p>"},{"location":"getting-started/quick-start/#quick-keycloak-setup","title":"Quick Keycloak Setup","text":"<ol> <li>Start Keycloak (if not already running):</li> </ol> PodmanDocker <pre><code>podman run -d \\\n  --name keycloak \\\n  -p 8080:8080 \\\n  -e KEYCLOAK_ADMIN=admin \\\n  -e KEYCLOAK_ADMIN_PASSWORD=admin \\\n  quay.io/keycloak/keycloak:latest \\\n  start-dev\n</code></pre> <pre><code>docker run -d \\\n  --name keycloak \\\n  -p 8080:8080 \\\n  -e KEYCLOAK_ADMIN=admin \\\n  -e KEYCLOAK_ADMIN_PASSWORD=admin \\\n  quay.io/keycloak/keycloak:latest \\\n  start-dev\n</code></pre> <ol> <li>Access Keycloak Admin Console:</li> <li>URL: <code>http://localhost:8080</code></li> <li>Username: <code>admin</code></li> <li> <p>Password: <code>admin</code></p> </li> <li> <p>Follow the detailed setup:</p> </li> <li>Realm Configuration</li> <li>Client Configuration</li> <li>User Management</li> </ol>"},{"location":"getting-started/quick-start/#step-6-get-a-jwt-token","title":"Step 6: Get a JWT Token","text":"<p>Once Keycloak is configured, obtain a JWT token:</p> <pre><code>curl -X POST http://localhost:8080/realms/secure-test/protocol/openid-connect/token \\\n  -H \"Content-Type: application/x-www-form-urlencoded\" \\\n  -d \"client_id=authentication-test-api\" \\\n  -d \"client_secret=YOUR_CLIENT_SECRET\" \\\n  -d \"grant_type=password\" \\\n  -d \"username=testuser1\" \\\n  -d \"password=password123\"\n</code></pre> <p>Extract the <code>access_token</code> from the response.</p>"},{"location":"getting-started/quick-start/#step-7-test-protected-endpoint","title":"Step 7: Test Protected Endpoint","text":"<p>Use the JWT token to access the schedule endpoint:</p> <pre><code>curl http://localhost:9080/api/v1/schedule \\\n  -H \"Authorization: Bearer YOUR_JWT_TOKEN\"\n</code></pre> <p>Expected response: <pre><code>{\n  \"user\": \"testuser1\",\n  \"schedule\": [\n    {\n      \"date\": \"2026-01-28\",\n      \"time\": \"09:00\",\n      \"description\": \"Team standup meeting\"\n    },\n    {\n      \"date\": \"2026-01-28\",\n      \"time\": \"14:30\",\n      \"description\": \"Code review session\"\n    }\n  ]\n}\n</code></pre></p> <p>\u2705 Success! You've made an authenticated API call.</p>"},{"location":"getting-started/quick-start/#alternative-run-with-container","title":"Alternative: Run with Container","text":"<p>Instead of Maven, you can run the application in a container:</p>"},{"location":"getting-started/quick-start/#build-container-image","title":"Build Container Image","text":"PodmanDocker <pre><code>cd API_server\npodman build -t authentication-test-api:1.0.0 .\n</code></pre> <pre><code>cd API_server\ndocker build -t authentication-test-api:1.0.0 .\n</code></pre>"},{"location":"getting-started/quick-start/#run-container","title":"Run Container","text":"PodmanDocker <pre><code>podman run -d \\\n  --name auth-api \\\n  -p 9080:9080 \\\n  -p 9443:9443 \\\n  -e JWT_JWKS_URI=http://localhost:8080/realms/secure-test/protocol/openid-connect/certs \\\n  -e JWT_ISSUER=http://localhost:8080/realms/secure-test \\\n  authentication-test-api:1.0.0\n</code></pre> <pre><code>docker run -d \\\n  --name auth-api \\\n  -p 9080:9080 \\\n  -p 9443:9443 \\\n  -e JWT_JWKS_URI=http://localhost:8080/realms/secure-test/protocol/openid-connect/certs \\\n  -e JWT_ISSUER=http://localhost:8080/realms/secure-test \\\n  authentication-test-api:1.0.0\n</code></pre>"},{"location":"getting-started/quick-start/#view-openapi-documentation","title":"View OpenAPI Documentation","text":"<p>Access the interactive API documentation:</p> <ul> <li>Swagger UI: <code>http://localhost:9080/openapi/ui</code></li> <li>OpenAPI JSON: <code>http://localhost:9080/openapi</code></li> </ul>"},{"location":"getting-started/quick-start/#stopping-the-application","title":"Stopping the Application","text":""},{"location":"getting-started/quick-start/#maven-development-mode","title":"Maven Development Mode","text":"<p>Press <code>Ctrl+C</code> in the terminal running <code>mvn liberty:dev</code></p>"},{"location":"getting-started/quick-start/#container","title":"Container","text":"PodmanDocker <pre><code>podman stop auth-api\npodman rm auth-api\n</code></pre> <pre><code>docker stop auth-api\ndocker rm auth-api\n</code></pre>"},{"location":"getting-started/quick-start/#next-steps","title":"Next Steps","text":"<p>Now that you have the API running:</p> <ol> <li>Explore API Endpoints - Learn about all available endpoints</li> <li>Configure Keycloak - Detailed authentication setup</li> <li>Build for Production - Production build and deployment</li> <li>Troubleshooting - Solutions to common problems</li> </ol>"},{"location":"getting-started/quick-start/#common-issues","title":"Common Issues","text":""},{"location":"getting-started/quick-start/#port-already-in-use","title":"Port Already in Use","text":"<p>If port 9080 is already in use:</p> <pre><code># Find process using port 9080\nlsof -i :9080  # macOS/Linux\nnetstat -ano | findstr :9080  # Windows\n\n# Kill the process or change the port in server.xml\n</code></pre>"},{"location":"getting-started/quick-start/#keycloak-connection-failed","title":"Keycloak Connection Failed","text":"<p>Ensure Keycloak is running and accessible:</p> <pre><code>curl http://localhost:8080\n</code></pre>"},{"location":"getting-started/quick-start/#build-failures","title":"Build Failures","text":"<p>Clean and rebuild:</p> <pre><code>mvn clean install -U\n</code></pre> <p>For more help, see the Troubleshooting Guide.</p>"},{"location":"keycloak/client-setup/","title":"Client Configuration","text":"<p>This guide explains how to configure the <code>authentication-test-api</code> client in Keycloak for OAuth 2.0 authentication.</p>"},{"location":"keycloak/client-setup/#what-is-a-client","title":"What is a Client?","text":"<p>In Keycloak, a client represents an application that wants to use Keycloak for authentication. For our API, the client configuration defines:</p> <ul> <li>How the API validates JWT tokens</li> <li>Which authentication flows are allowed</li> <li>Token settings and lifespans</li> <li>Valid redirect URIs</li> </ul>"},{"location":"keycloak/client-setup/#prerequisites","title":"Prerequisites","text":"<ul> <li>Keycloak installed and running</li> <li><code>secure-test</code> realm created</li> <li>Access to Keycloak Admin Console</li> </ul>"},{"location":"keycloak/client-setup/#step-1-create-client","title":"Step 1: Create Client","text":"Admin ConsoleREST API <ol> <li>Select \"secure-test\" realm from dropdown</li> <li>Go to \"Clients\" in left menu</li> <li>Click \"Create client\"</li> <li>Enter Client Details:<ul> <li>Client type: <code>OpenID Connect</code></li> <li>Client ID: <code>authentication-test-api</code></li> </ul> </li> <li> <p>Click \"Next\"</p> </li> <li> <p>Configure Capability:</p> <ul> <li>Client authentication: \u2713 ON (confidential client)</li> <li>Authorization: \u2717 OFF</li> <li>Authentication flow:</li> <li>\u2713 Standard flow</li> <li>\u2713 Direct access grants</li> <li>\u2717 Implicit flow</li> <li>\u2717 Service accounts roles</li> </ul> </li> <li> <p>Click \"Next\"</p> </li> <li> <p>Configure Login Settings:</p> <ul> <li>Root URL: <code>http://localhost:9080</code></li> <li>Home URL: <code>http://localhost:9080</code></li> <li>Valid redirect URIs:</li> <li><code>http://localhost:9080/*</code></li> <li><code>https://localhost:9443/*</code></li> <li>Valid post logout redirect URIs: <code>+</code> (use root URL)</li> <li>Web origins:</li> <li><code>http://localhost:9080</code></li> <li><code>https://localhost:9443</code></li> </ul> </li> <li>Click \"Save\"</li> </ol> <pre><code># Get admin token\nTOKEN=$(curl -X POST http://localhost:8080/realms/master/protocol/openid-connect/token \\\n  -H \"Content-Type: application/x-www-form-urlencoded\" \\\n  -d \"username=admin\" \\\n  -d \"password=admin\" \\\n  -d \"grant_type=password\" \\\n  -d \"client_id=admin-cli\" \\\n  | jq -r '.access_token')\n\n# Create client\ncurl -X POST http://localhost:8080/admin/realms/secure-test/clients \\\n  -H \"Authorization: Bearer $TOKEN\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"clientId\": \"authentication-test-api\",\n    \"name\": \"Authentication Test API\",\n    \"description\": \"RESTful API with OAuth 2.0 authentication\",\n    \"enabled\": true,\n    \"clientAuthenticatorType\": \"client-secret\",\n    \"redirectUris\": [\n      \"http://localhost:9080/*\",\n      \"https://localhost:9443/*\"\n    ],\n    \"webOrigins\": [\n      \"http://localhost:9080\",\n      \"https://localhost:9443\"\n    ],\n    \"publicClient\": false,\n    \"protocol\": \"openid-connect\",\n    \"standardFlowEnabled\": true,\n    \"directAccessGrantsEnabled\": true,\n    \"serviceAccountsEnabled\": false\n  }'\n</code></pre>"},{"location":"keycloak/client-setup/#step-2-get-client-secret","title":"Step 2: Get Client Secret","text":"<p>The client secret is required for the API to validate tokens.</p> Admin ConsoleREST API <ol> <li>Go to \"Clients\"</li> <li>Click \"authentication-test-api\"</li> <li>Go to \"Credentials\" tab</li> <li>Copy the \"Client secret\"</li> </ol> <p>Save this secret - you'll need it for the API configuration.</p> <pre><code># Get client secret\ncurl -X GET \"http://localhost:8080/admin/realms/secure-test/clients/$(curl -X GET http://localhost:8080/admin/realms/secure-test/clients \\\n  -H \"Authorization: Bearer $TOKEN\" \\\n  | jq -r '.[] | select(.clientId==\"authentication-test-api\") | .id')/client-secret\" \\\n  -H \"Authorization: Bearer $TOKEN\" \\\n  | jq -r '.value'\n</code></pre>"},{"location":"keycloak/client-setup/#step-3-configure-client-settings","title":"Step 3: Configure Client Settings","text":""},{"location":"keycloak/client-setup/#settings-tab","title":"Settings Tab","text":"<ol> <li>Go to \"Clients\" \u2192 \"authentication-test-api\" \u2192 \"Settings\"</li> <li>Configure:</li> <li>Client ID: <code>authentication-test-api</code> (read-only)</li> <li>Name: <code>Authentication Test API</code></li> <li>Description: <code>RESTful API with OAuth 2.0 authentication</code></li> <li>Always display in console: \u2717</li> <li>Consent required: \u2717</li> <li>Login theme: (leave empty)</li> <li>Client authentication: \u2713 ON</li> <li> <p>Authorization: \u2717 OFF</p> </li> <li> <p>Authentication flow:</p> </li> <li>\u2713 Standard flow (Authorization Code)</li> <li>\u2713 Direct access grants (Resource Owner Password)</li> <li>\u2717 Implicit flow</li> <li>\u2717 Service accounts roles</li> <li> <p>\u2717 OAuth 2.0 Device Authorization Grant</p> </li> <li> <p>Click \"Save\"</p> </li> </ol>"},{"location":"keycloak/client-setup/#access-settings","title":"Access Settings","text":"<ol> <li>Still in \"Settings\" tab, scroll to \"Access settings\"</li> <li>Configure:</li> <li>Root URL: <code>http://localhost:9080</code></li> <li>Home URL: <code>http://localhost:9080</code></li> <li>Valid redirect URIs:      <pre><code>http://localhost:9080/*\nhttps://localhost:9443/*\n</code></pre></li> <li>Valid post logout redirect URIs: <code>+</code></li> <li>Web origins:      <pre><code>http://localhost:9080\nhttps://localhost:9443\n</code></pre></li> <li> <p>Admin URL: (leave empty)</p> </li> <li> <p>Click \"Save\"</p> </li> </ol>"},{"location":"keycloak/client-setup/#advanced-settings","title":"Advanced Settings","text":"<ol> <li>Scroll to \"Advanced\" section</li> <li>Configure Token Settings:</li> <li>Access Token Lifespan: (leave empty to use realm default)</li> <li>Client Session Idle: (leave empty)</li> <li>Client Session Max: (leave empty)</li> <li>Client Offline Session Idle: (leave empty)</li> <li> <p>Client Offline Session Max: (leave empty)</p> </li> <li> <p>OAuth 2.0 Mutual TLS Certificate Bound Access Tokens: \u2717</p> </li> <li>OIDC CIBA Grant: \u2717</li> <li>Click \"Save\"</li> </ol>"},{"location":"keycloak/client-setup/#step-4-configure-roles","title":"Step 4: Configure Roles","text":"<p>Map the realm role to the client.</p>"},{"location":"keycloak/client-setup/#client-roles-mapping","title":"Client Roles Mapping","text":"<ol> <li>Go to \"Clients\" \u2192 \"authentication-test-api\" \u2192 \"Client scopes\"</li> <li>Click \"authentication-test-api-dedicated\"</li> <li>Go to \"Mappers\" tab</li> <li>Click \"Add mapper\" \u2192 \"By configuration\"</li> <li>Select \"User Realm Role\"</li> <li>Configure:</li> <li>Name: <code>realm-roles</code></li> <li>Mapper Type: <code>User Realm Role</code></li> <li>Multivalued: \u2713 ON</li> <li>Token Claim Name: <code>realm_access.roles</code></li> <li>Claim JSON Type: <code>String</code></li> <li>Add to ID token: \u2713 ON</li> <li>Add to access token: \u2713 ON</li> <li> <p>Add to userinfo: \u2713 ON</p> </li> <li> <p>Click \"Save\"</p> </li> </ol> <p>This ensures the <code>schedule-user</code> role appears in the JWT token.</p> <p>Testing Client Configuration</p> <p>To test the client configuration with actual tokens, you'll need to create users first. See the User Management guide, then return to test token generation.</p>"},{"location":"keycloak/client-setup/#step-5-configure-api-environment","title":"Step 5: Configure API Environment","text":"<p>Update your API configuration with the client details:</p>"},{"location":"keycloak/client-setup/#environment-variables","title":"Environment Variables","text":"<pre><code>export JWT_JWKS_URI=http://localhost:8080/realms/secure-test/protocol/openid-connect/certs\nexport JWT_ISSUER=http://localhost:8080/realms/secure-test\nexport KEYCLOAK_CLIENT_ID=authentication-test-api\nexport KEYCLOAK_CLIENT_SECRET=YOUR_CLIENT_SECRET\n</code></pre>"},{"location":"keycloak/client-setup/#microprofile-config","title":"MicroProfile Config","text":"<p>Update <code>src/main/resources/META-INF/microprofile-config.properties</code>:</p> <pre><code>mp.jwt.verify.publickey.location=http://localhost:8080/realms/secure-test/protocol/openid-connect/certs\nmp.jwt.verify.issuer=http://localhost:8080/realms/secure-test\nkeycloak.client.id=authentication-test-api\n</code></pre>"},{"location":"keycloak/client-setup/#advanced-configuration","title":"Advanced Configuration","text":""},{"location":"keycloak/client-setup/#cors-configuration","title":"CORS Configuration","text":"<p>If your API needs to handle CORS:</p> <ol> <li>Go to \"Clients\" \u2192 \"authentication-test-api\" \u2192 \"Settings\"</li> <li>Scroll to \"Web origins\"</li> <li>Add allowed origins:    <pre><code>http://localhost:3000\nhttps://app.example.com\n</code></pre></li> <li>Click \"Save\"</li> </ol>"},{"location":"keycloak/client-setup/#token-lifespan","title":"Token Lifespan","text":"<p>Customize token lifespan for this client:</p> <ol> <li>Go to \"Clients\" \u2192 \"authentication-test-api\" \u2192 \"Advanced\" tab</li> <li>Set \"Access Token Lifespan\": <code>10 Minutes</code></li> <li>Click \"Save\"</li> </ol>"},{"location":"keycloak/client-setup/#audience","title":"Audience","text":"<p>Add audience claim to tokens:</p> <ol> <li>Go to \"Clients\" \u2192 \"authentication-test-api\" \u2192 \"Client scopes\"</li> <li>Click \"authentication-test-api-dedicated\"</li> <li>Go to \"Mappers\" tab</li> <li>Click \"Add mapper\" \u2192 \"By configuration\"</li> <li>Select \"Audience\"</li> <li>Configure:</li> <li>Name: <code>audience</code></li> <li>Included Client Audience: <code>authentication-test-api</code></li> <li>Add to access token: \u2713 ON</li> <li>Click \"Save\"</li> </ol>"},{"location":"keycloak/client-setup/#troubleshooting","title":"Troubleshooting","text":""},{"location":"keycloak/client-setup/#invalid-client-credentials","title":"Invalid Client Credentials","text":"<p>If you get \"invalid_client\" error:</p> <ol> <li>Verify client ID is correct</li> <li>Check client secret matches</li> <li>Ensure client authentication is enabled</li> </ol>"},{"location":"keycloak/client-setup/#token-missing-roles","title":"Token Missing Roles","text":"<p>If JWT token doesn't contain roles:</p> <ol> <li>Verify realm role mapper is configured</li> <li>Check user has the <code>schedule-user</code> role</li> <li>Ensure mapper is added to access token</li> </ol>"},{"location":"keycloak/client-setup/#cors-errors","title":"CORS Errors","text":"<p>If you get CORS errors:</p> <ol> <li>Add frontend origin to \"Web origins\"</li> <li>Ensure origin matches exactly (including protocol and port)</li> <li>Check browser console for specific CORS error</li> </ol>"},{"location":"keycloak/client-setup/#next-steps","title":"Next Steps","text":"<ul> <li>User Management - Create test users</li> <li>API Authentication - Use tokens with the API</li> <li>Troubleshooting - Common issues</li> </ul>"},{"location":"keycloak/client-setup/#additional-resources","title":"Additional Resources","text":"<ul> <li>Keycloak Client Configuration</li> <li>OAuth 2.0 Flows</li> <li>OpenID Connect</li> </ul>"},{"location":"keycloak/groups-mapper/","title":"Groups Claim Mapper Configuration","text":"<p>This guide explains how to configure Keycloak to add a <code>groups</code> claim to JWT tokens, which is required for MicroProfile JWT role-based authorization.</p>"},{"location":"keycloak/groups-mapper/#why-is-this-needed","title":"Why is This Needed?","text":"<p>The MicroProfile JWT specification expects roles to be in a <code>groups</code> claim in the JWT token. By default, Keycloak places roles in the <code>realm_access.roles</code> claim. OpenLiberty's <code>@RolesAllowed</code> annotation checks the <code>groups</code> claim for authorization decisions.</p> <p>Without this mapper, you'll receive 403 Forbidden errors even with a valid JWT token because the authorization system cannot find the required roles.</p>"},{"location":"keycloak/groups-mapper/#prerequisites","title":"Prerequisites","text":"<ul> <li>Keycloak installed and running</li> <li><code>secure-test</code> realm created</li> <li><code>authentication-test-api</code> client configured</li> <li>Users created with <code>schedule-user</code> role assigned</li> </ul>"},{"location":"keycloak/groups-mapper/#understanding-the-problem","title":"Understanding the Problem","text":"<p>When you obtain a JWT token from Keycloak, it contains roles in this structure:</p> <pre><code>{\n  \"realm_access\": {\n    \"roles\": [\"schedule-user\", \"offline_access\", \"uma_authorization\"]\n  }\n}\n</code></pre> <p>But MicroProfile JWT expects:</p> <pre><code>{\n  \"groups\": [\"schedule-user\", \"offline_access\", \"uma_authorization\"]\n}\n</code></pre>"},{"location":"keycloak/groups-mapper/#solution-add-groups-mapper","title":"Solution: Add Groups Mapper","text":"<p>We need to add a Protocol Mapper to the Keycloak client that maps <code>realm_access.roles</code> to a <code>groups</code> claim.</p>"},{"location":"keycloak/groups-mapper/#step-1-access-client-scopes","title":"Step 1: Access Client Scopes","text":"<ol> <li>Login to Keycloak Admin Console: <code>https://keycloak.lab.home/admin</code> (or your Keycloak URL)</li> <li>Select the <code>secure-test</code> realm from the dropdown</li> <li>Go to \"Clients\" in the left menu</li> <li>Click on <code>authentication-test-api</code></li> <li>Go to the \"Client scopes\" tab</li> <li>Click on <code>authentication-test-api-dedicated</code> (the dedicated scope for this client)</li> </ol>"},{"location":"keycloak/groups-mapper/#step-2-add-the-mapper","title":"Step 2: Add the Mapper","text":"User Realm Role (Recommended)Hardcoded Claim <p>This is the simplest approach for dynamic role assignment:</p> <ol> <li>Click \"Add mapper\" \u2192 \"By configuration\"</li> <li>Select \"User Realm Role\"</li> <li>Configure the mapper:<ul> <li>Name: <code>groups-mapper</code></li> <li>Mapper Type: <code>User Realm Role</code></li> <li>Token Claim Name: <code>groups</code></li> <li>Claim JSON Type: <code>String</code></li> <li>Add to ID token: \u2713 ON</li> <li>Add to access token: \u2713 ON</li> <li>Add to userinfo: \u2713 ON</li> <li>Multivalued: \u2713 ON</li> </ul> </li> <li>Click \"Save\"</li> </ol> <p>Use this if you want to assign specific roles to all users:</p> <ol> <li>Click \"Add mapper\" \u2192 \"By configuration\"</li> <li>Select \"Hardcoded claim\"</li> <li>Configure:<ul> <li>Name: <code>groups-hardcoded</code></li> <li>Token Claim Name: <code>groups</code></li> <li>Claim value: <code>schedule-user</code> (or comma-separated list)</li> <li>Claim JSON Type: <code>String</code></li> <li>Add to ID token: \u2713 ON</li> <li>Add to access token: \u2713 ON</li> <li>Add to userinfo: \u2713 ON</li> </ul> </li> <li>Click \"Save\"</li> </ol> <p>Limitation</p> <p>This approach gives all users the same roles. Use \"User Realm Role\" for dynamic role assignment based on actual user roles.</p>"},{"location":"keycloak/groups-mapper/#step-3-verify-the-configuration","title":"Step 3: Verify the Configuration","text":""},{"location":"keycloak/groups-mapper/#get-a-new-token","title":"Get a New Token","text":"<p>After adding the mapper, obtain a new JWT token:</p> <pre><code>TOKEN=$(curl -s -k -X POST https://keycloak.lab.home/realms/secure-test/protocol/openid-connect/token \\\n  -H \"Content-Type: application/x-www-form-urlencoded\" \\\n  -d \"client_id=authentication-test-api\" \\\n  -d \"client_secret=YOUR_CLIENT_SECRET\" \\\n  -d \"grant_type=password\" \\\n  -d \"username=testuser2\" \\\n  -d \"password=YOUR_PASSWORD\" | jq -r '.access_token')\n</code></pre>"},{"location":"keycloak/groups-mapper/#decode-and-check-for-groups-claim","title":"Decode and Check for Groups Claim","text":"<p>Decode the JWT token to verify it contains the <code>groups</code> claim:</p> Command Linejwt.io <pre><code># Decode the token payload\npython3 -c \"import sys, json, base64; \\\npayload = sys.argv[1].split('.')[1]; \\\npayload += '=' * (4 - len(payload) % 4); \\\nclaims = json.loads(base64.b64decode(payload)); \\\nprint('Username:', claims.get('preferred_username')); \\\nprint('Groups:', json.dumps(claims.get('groups', []), indent=2))\" \"$TOKEN\"\n</code></pre> <p>Expected output:</p> <pre><code>Username: testuser2\nGroups: [\n  \"schedule-user\",\n  \"offline_access\",\n  \"uma_authorization\",\n  \"default-roles-secure-test\"\n]\n</code></pre> <ol> <li>Copy the token</li> <li>Go to https://jwt.io</li> <li>Paste the token in the \"Encoded\" section</li> <li>Check the \"Payload\" section for the <code>groups</code> claim</li> </ol>"},{"location":"keycloak/groups-mapper/#step-4-update-openliberty-configuration","title":"Step 4: Update OpenLiberty Configuration","text":"<p>Ensure your <code>server.xml</code> is configured to use the <code>groups</code> claim:</p> <pre><code>&lt;mpJwt id=\"jwtConfig\"\n       jwksUri=\"${env.JWT_JWKS_URI}\"\n       issuer=\"${env.JWT_ISSUER}\"\n       audiences=\"authentication-test-api\"\n       groupNameAttribute=\"groups\"\n       userNameAttribute=\"preferred_username\"\n       sslRef=\"jwtSSLConfig\"/&gt;\n</code></pre> <p>The key setting is <code>groupNameAttribute=\"groups\"</code>.</p>"},{"location":"keycloak/groups-mapper/#step-5-test-the-api","title":"Step 5: Test the API","text":"<p>Now test the API with the new token:</p> <pre><code># Get token\nTOKEN=$(curl -s -k -X POST https://keycloak.lab.home/realms/secure-test/protocol/openid-connect/token \\\n  -H \"Content-Type: application/x-www-form-urlencoded\" \\\n  -d \"client_id=authentication-test-api\" \\\n  -d \"client_secret=YOUR_CLIENT_SECRET\" \\\n  -d \"grant_type=password\" \\\n  -d \"username=testuser2\" \\\n  -d \"password=YOUR_PASSWORD\" | jq -r '.access_token')\n\n# Test API\ncurl -s http://localhost:9080/api/v1/schedule \\\n  -H \"Authorization: Bearer $TOKEN\" | jq .\n</code></pre> <p>Expected result: 200 OK with schedule data</p> <pre><code>{\n  \"user\": \"testuser2\",\n  \"schedule\": [\n    {\n      \"date\": \"2026-01-28\",\n      \"time\": \"12:00\",\n      \"description\": \"Team standup meeting\"\n    }\n  ]\n}\n</code></pre>"},{"location":"keycloak/groups-mapper/#troubleshooting","title":"Troubleshooting","text":""},{"location":"keycloak/groups-mapper/#still-getting-403-forbidden","title":"Still Getting 403 Forbidden","text":"<p>Possible causes:</p> <ol> <li>Token doesn't have groups claim</li> <li>Clear browser cache and get a new token</li> <li>Verify the mapper is enabled</li> <li> <p>Check that the mapper is in the correct client scope</p> </li> <li> <p>Groups claim is empty</p> </li> <li>Verify the user has the <code>schedule-user</code> role assigned</li> <li>Check realm roles vs client roles (use realm roles)</li> <li> <p>Verify the mapper is configured for realm roles</p> </li> <li> <p>OpenLiberty not reading groups</p> </li> <li>Check <code>groupNameAttribute=\"groups\"</code> in server.xml</li> <li>Verify the role name matches exactly: <code>schedule-user</code></li> <li>Check server logs for role extraction messages</li> </ol>"},{"location":"keycloak/groups-mapper/#token-still-doesnt-have-groups-claim","title":"Token Still Doesn't Have Groups Claim","text":"<ol> <li> <p>Restart Keycloak (if needed):    <pre><code># If using Docker/Podman\npodman restart keycloak\n</code></pre></p> </li> <li> <p>Clear token cache:</p> </li> <li>Logout from all sessions</li> <li>Get a completely new token</li> <li> <p>Don't reuse old tokens</p> </li> <li> <p>Verify mapper is in access token:</p> </li> <li>Go to mapper configuration</li> <li>Ensure \"Add to access token\" is checked</li> <li>Save the configuration again</li> </ol>"},{"location":"keycloak/groups-mapper/#groups-claim-exists-but-authorization-fails","title":"Groups Claim Exists But Authorization Fails","text":"<p>Check OpenLiberty logs for detailed information:</p> <pre><code>tail -f target/liberty/wlp/usr/servers/authTestServer/logs/messages.log | grep -i \"group\\|role\"\n</code></pre> <p>Look for messages like: - <code>groupIds=[]</code> - Groups not being extracted - <code>Authorization failed</code> - Role check failing</p>"},{"location":"keycloak/groups-mapper/#using-rest-api","title":"Using REST API","text":"<p>You can also configure the mapper via Keycloak's REST API:</p> <pre><code># Get admin token\nADMIN_TOKEN=$(curl -s -X POST https://keycloak.lab.home/realms/master/protocol/openid-connect/token \\\n  -H \"Content-Type: application/x-www-form-urlencoded\" \\\n  -d \"username=admin\" \\\n  -d \"password=admin\" \\\n  -d \"grant_type=password\" \\\n  -d \"client_id=admin-cli\" | jq -r '.access_token')\n\n# Get client scope ID\nSCOPE_ID=$(curl -s -k -X GET \"https://keycloak.lab.home/admin/realms/secure-test/client-scopes\" \\\n  -H \"Authorization: Bearer $ADMIN_TOKEN\" \\\n  | jq -r '.[] | select(.name==\"authentication-test-api-dedicated\") | .id')\n\n# Add mapper\ncurl -k -X POST \"https://keycloak.lab.home/admin/realms/secure-test/client-scopes/$SCOPE_ID/protocol-mappers/models\" \\\n  -H \"Authorization: Bearer $ADMIN_TOKEN\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"name\": \"groups-mapper\",\n    \"protocol\": \"openid-connect\",\n    \"protocolMapper\": \"oidc-usermodel-realm-role-mapper\",\n    \"config\": {\n      \"claim.name\": \"groups\",\n      \"jsonType.label\": \"String\",\n      \"id.token.claim\": \"true\",\n      \"access.token.claim\": \"true\",\n      \"userinfo.token.claim\": \"true\",\n      \"multivalued\": \"true\"\n    }\n  }'\n</code></pre>"},{"location":"keycloak/groups-mapper/#next-steps","title":"Next Steps","text":"<ul> <li>Test API Endpoints - Test all API functionality</li> <li>Troubleshooting - Common issues and solutions</li> <li>API Authentication - Learn more about JWT authentication</li> </ul>"},{"location":"keycloak/groups-mapper/#references","title":"References","text":"<ul> <li>MicroProfile JWT Specification</li> <li>Keycloak Protocol Mappers</li> <li>OpenLiberty MicroProfile JWT</li> </ul>"},{"location":"keycloak/installation/","title":"Keycloak Installation","text":"<p>This guide covers installing and running Keycloak for the Authentication Test API.</p>"},{"location":"keycloak/installation/#what-is-keycloak","title":"What is Keycloak?","text":"<p>Keycloak is an open-source Identity and Access Management solution that provides:</p> <ul> <li>OAuth 2.0 and OpenID Connect support</li> <li>User authentication and authorization</li> <li>Single Sign-On (SSO)</li> <li>User management</li> <li>Role-based access control</li> </ul>"},{"location":"keycloak/installation/#installation-options","title":"Installation Options","text":"Container (Recommended)Standalone ServerProduction with PostgreSQL <p>The easiest way to run Keycloak for development and testing.</p> PodmanDocker <pre><code>podman run -d \\\n  --name keycloak \\\n  -p 8080:8080 \\\n  -e KEYCLOAK_ADMIN=admin \\\n  -e KEYCLOAK_ADMIN_PASSWORD=admin \\\n  quay.io/keycloak/keycloak:latest \\\n  start-dev\n</code></pre> <pre><code>docker run -d \\\n  --name keycloak \\\n  -p 8080:8080 \\\n  -e KEYCLOAK_ADMIN=admin \\\n  -e KEYCLOAK_ADMIN_PASSWORD=admin \\\n  quay.io/keycloak/keycloak:latest \\\n  start-dev\n</code></pre> <p>Wait for Keycloak to start (about 30 seconds):</p> <pre><code># Check logs\npodman logs -f keycloak  # or docker logs -f keycloak\n</code></pre> <p>Look for: <code>Keycloak 23.0.0 started</code></p> <p>Access Keycloak:</p> <ul> <li>URL: <code>http://localhost:8080</code></li> <li>Admin Username: <code>admin</code></li> <li>Admin Password: <code>admin</code></li> </ul> <p>Download and run Keycloak as a standalone server.</p> <p>Download:</p> <pre><code># Download Keycloak\nwget https://github.com/keycloak/keycloak/releases/download/23.0.0/keycloak-23.0.0.zip\n\n# Extract\nunzip keycloak-23.0.0.zip\ncd keycloak-23.0.0\n</code></pre> <p>Start Server:</p> <pre><code># Set admin credentials\nexport KEYCLOAK_ADMIN=admin\nexport KEYCLOAK_ADMIN_PASSWORD=admin\n\n# Start in development mode\nbin/kc.sh start-dev\n</code></pre> <p>Access at: <code>http://localhost:8080</code></p> <p>For production, use a proper database and HTTPS.</p> PodmanDocker <pre><code># Create network\npodman network create keycloak-network\n\n# Start PostgreSQL\npodman run -d \\\n  --name postgres \\\n  --network keycloak-network \\\n  -e POSTGRES_DB=keycloak \\\n  -e POSTGRES_USER=keycloak \\\n  -e POSTGRES_PASSWORD=password \\\n  postgres:15\n\n# Start Keycloak\npodman run -d \\\n  --name keycloak \\\n  --network keycloak-network \\\n  -p 8443:8443 \\\n  -e KEYCLOAK_ADMIN=admin \\\n  -e KEYCLOAK_ADMIN_PASSWORD=admin \\\n  -e KC_DB=postgres \\\n  -e KC_DB_URL=jdbc:postgresql://postgres:5432/keycloak \\\n  -e KC_DB_USERNAME=keycloak \\\n  -e KC_DB_PASSWORD=password \\\n  -e KC_HOSTNAME=keycloak.example.com \\\n  quay.io/keycloak/keycloak:latest \\\n  start --optimized\n</code></pre> <pre><code># Create network\ndocker network create keycloak-network\n\n# Start PostgreSQL\ndocker run -d \\\n  --name postgres \\\n  --network keycloak-network \\\n  -e POSTGRES_DB=keycloak \\\n  -e POSTGRES_USER=keycloak \\\n  -e POSTGRES_PASSWORD=password \\\n  postgres:15\n\n# Start Keycloak\ndocker run -d \\\n  --name keycloak \\\n  --network keycloak-network \\\n  -p 8443:8443 \\\n  -e KEYCLOAK_ADMIN=admin \\\n  -e KEYCLOAK_ADMIN_PASSWORD=admin \\\n  -e KC_DB=postgres \\\n  -e KC_DB_URL=jdbc:postgresql://postgres:5432/keycloak \\\n  -e KC_DB_USERNAME=keycloak \\\n  -e KC_DB_PASSWORD=password \\\n  -e KC_HOSTNAME=keycloak.example.com \\\n  quay.io/keycloak/keycloak:latest \\\n  start --optimized\n</code></pre>"},{"location":"keycloak/installation/#verifying-installation","title":"Verifying Installation","text":""},{"location":"keycloak/installation/#check-keycloak-is-running","title":"Check Keycloak is Running","text":"<pre><code>curl http://localhost:8080\n</code></pre> <p>You should see the Keycloak welcome page HTML.</p>"},{"location":"keycloak/installation/#access-admin-console","title":"Access Admin Console","text":"<ol> <li>Open browser: <code>http://localhost:8080</code></li> <li>Click \"Administration Console\"</li> <li>Login with:</li> <li>Username: <code>admin</code></li> <li>Password: <code>admin</code></li> </ol> <p>You should see the Keycloak admin dashboard.</p>"},{"location":"keycloak/installation/#initial-configuration","title":"Initial Configuration","text":""},{"location":"keycloak/installation/#change-admin-password","title":"Change Admin Password","text":"<p>Security</p> <p>Change the default admin password immediately!</p> <ol> <li>Click \"Admin\" in top-right corner</li> <li>Select \"Manage account\"</li> <li>Go to \"Password\" tab</li> <li>Enter new password</li> <li>Click \"Save\"</li> </ol>"},{"location":"keycloak/installation/#enable-https-production","title":"Enable HTTPS (Production)","text":"<p>For production, always use HTTPS:</p> <pre><code># Generate self-signed certificate (development only)\nkeytool -genkeypair -storepass password -storetype PKCS12 \\\n  -keyalg RSA -keysize 2048 -dname \"CN=server\" \\\n  -alias server -ext \"SAN:c=DNS:localhost,IP:127.0.0.1\" \\\n  -keystore conf/server.keystore\n</code></pre> <p>Start with HTTPS:</p> <pre><code>bin/kc.sh start-dev \\\n  --https-certificate-file=conf/server.crt \\\n  --https-certificate-key-file=conf/server.key\n</code></pre>"},{"location":"keycloak/installation/#container-management","title":"Container Management","text":""},{"location":"keycloak/installation/#stop-keycloak","title":"Stop Keycloak","text":"PodmanDocker <pre><code>podman stop keycloak\n</code></pre> <pre><code>docker stop keycloak\n</code></pre>"},{"location":"keycloak/installation/#start-keycloak","title":"Start Keycloak","text":"PodmanDocker <pre><code>podman start keycloak\n</code></pre> <pre><code>docker start keycloak\n</code></pre>"},{"location":"keycloak/installation/#restart-keycloak","title":"Restart Keycloak","text":"PodmanDocker <pre><code>podman restart keycloak\n</code></pre> <pre><code>docker restart keycloak\n</code></pre>"},{"location":"keycloak/installation/#view-logs","title":"View Logs","text":"PodmanDocker <pre><code>podman logs -f keycloak\n</code></pre> <pre><code>docker logs -f keycloak\n</code></pre>"},{"location":"keycloak/installation/#remove-keycloak","title":"Remove Keycloak","text":"PodmanDocker <pre><code>podman stop keycloak\npodman rm keycloak\n</code></pre> <pre><code>docker stop keycloak\ndocker rm keycloak\n</code></pre>"},{"location":"keycloak/installation/#persistent-data","title":"Persistent Data","text":""},{"location":"keycloak/installation/#with-volume-mount","title":"With Volume Mount","text":"<p>To persist Keycloak data across container restarts:</p> PodmanDocker <pre><code># Create volume\npodman volume create keycloak-data\n\n# Run with volume\npodman run -d \\\n  --name keycloak \\\n  -p 8080:8080 \\\n  -v keycloak-data:/opt/keycloak/data:Z \\\n  -e KEYCLOAK_ADMIN=admin \\\n  -e KEYCLOAK_ADMIN_PASSWORD=admin \\\n  quay.io/keycloak/keycloak:latest \\\n  start-dev\n</code></pre> <pre><code># Create volume\ndocker volume create keycloak-data\n\n# Run with volume\ndocker run -d \\\n  --name keycloak \\\n  -p 8080:8080 \\\n  -v keycloak-data:/opt/keycloak/data \\\n  -e KEYCLOAK_ADMIN=admin \\\n  -e KEYCLOAK_ADMIN_PASSWORD=admin \\\n  quay.io/keycloak/keycloak:latest \\\n  start-dev\n</code></pre>"},{"location":"keycloak/installation/#troubleshooting","title":"Troubleshooting","text":""},{"location":"keycloak/installation/#port-8080-already-in-use","title":"Port 8080 Already in Use","text":"<p>Change the port:</p> PodmanDocker <pre><code>podman run -d \\\n  --name keycloak \\\n  -p 8081:8080 \\\n  -e KEYCLOAK_ADMIN=admin \\\n  -e KEYCLOAK_ADMIN_PASSWORD=admin \\\n  quay.io/keycloak/keycloak:latest \\\n  start-dev\n</code></pre> <pre><code>docker run -d \\\n  --name keycloak \\\n  -p 8081:8080 \\\n  -e KEYCLOAK_ADMIN=admin \\\n  -e KEYCLOAK_ADMIN_PASSWORD=admin \\\n  quay.io/keycloak/keycloak:latest \\\n  start-dev\n</code></pre> <p>Access at: <code>http://localhost:8081</code></p>"},{"location":"keycloak/installation/#container-wont-start","title":"Container Won't Start","text":"<p>Check logs for errors:</p> PodmanDocker <pre><code>podman logs keycloak\n</code></pre> <pre><code>docker logs keycloak\n</code></pre>"},{"location":"keycloak/installation/#cant-access-admin-console","title":"Can't Access Admin Console","text":"<ol> <li> <p>Verify Keycloak is running:    <pre><code>curl http://localhost:8080\n</code></pre></p> </li> <li> <p>Check firewall settings</p> </li> <li> <p>Try accessing from localhost only</p> </li> </ol>"},{"location":"keycloak/installation/#database-connection-issues","title":"Database Connection Issues","text":"<p>If using external database, verify:</p> <ol> <li>Database is running</li> <li>Connection string is correct</li> <li>Credentials are valid</li> <li>Network connectivity</li> </ol>"},{"location":"keycloak/installation/#next-steps","title":"Next Steps","text":"<p>Now that Keycloak is installed:</p> <ol> <li>Create Realm - Setup the secure-test realm</li> <li>Configure Client - Setup the API client</li> <li>Add Users - Create test users</li> </ol>"},{"location":"keycloak/installation/#additional-resources","title":"Additional Resources","text":"<ul> <li>Keycloak Documentation</li> <li>Keycloak Server Installation</li> <li>Keycloak Container Images</li> </ul>"},{"location":"keycloak/realm-setup/","title":"Realm Configuration","text":"<p>This guide walks you through creating and configuring the <code>secure-test</code> realm in Keycloak for the Authentication Test API.</p>"},{"location":"keycloak/realm-setup/#what-is-a-realm","title":"What is a Realm?","text":"<p>A realm in Keycloak is an isolated space that manages:</p> <ul> <li>Users and groups</li> <li>Roles and permissions</li> <li>Clients (applications)</li> <li>Authentication settings</li> </ul>"},{"location":"keycloak/realm-setup/#prerequisites","title":"Prerequisites","text":"<ul> <li>Keycloak installed and running</li> <li>Access to Keycloak Admin Console</li> <li>Admin credentials</li> </ul>"},{"location":"keycloak/realm-setup/#step-1-access-admin-console","title":"Step 1: Access Admin Console","text":"<ol> <li>Open browser: <code>http://localhost:8080</code></li> <li>Click \"Administration Console\"</li> <li>Login with admin credentials</li> </ol>"},{"location":"keycloak/realm-setup/#step-2-create-realm","title":"Step 2: Create Realm","text":"Admin ConsoleREST API <ol> <li>Hover over \"Master\" in the top-left corner</li> <li>Click \"Create Realm\"</li> <li>Enter Realm Details:<ul> <li>Realm name: <code>secure-test</code></li> <li>Enabled: \u2713 (checked)</li> </ul> </li> <li>Click \"Create\"</li> </ol> <p>You should now see \"secure-test\" in the realm selector.</p> <p>Create the realm via API:</p> <pre><code># Get admin token\nTOKEN=$(curl -X POST http://localhost:8080/realms/master/protocol/openid-connect/token \\\n  -H \"Content-Type: application/x-www-form-urlencoded\" \\\n  -d \"username=admin\" \\\n  -d \"password=admin\" \\\n  -d \"grant_type=password\" \\\n  -d \"client_id=admin-cli\" \\\n  | jq -r '.access_token')\n\n# Create realm\ncurl -X POST http://localhost:8080/admin/realms \\\n  -H \"Authorization: Bearer $TOKEN\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"realm\": \"secure-test\",\n    \"enabled\": true,\n    \"displayName\": \"Secure Test Realm\",\n    \"displayNameHtml\": \"&lt;b&gt;Secure Test&lt;/b&gt;\"\n  }'\n</code></pre>"},{"location":"keycloak/realm-setup/#step-3-configure-realm-settings","title":"Step 3: Configure Realm Settings","text":""},{"location":"keycloak/realm-setup/#general-settings","title":"General Settings","text":"<ol> <li>Select \"secure-test\" realm from dropdown</li> <li>Go to \"Realm settings\"</li> <li>Configure General tab:</li> <li>Display name: <code>Secure Test Realm</code></li> <li>HTML Display name: <code>&lt;b&gt;Secure Test&lt;/b&gt;</code></li> <li>Frontend URL: Leave empty for development</li> <li> <p>Require SSL: <code>none</code> (development) or <code>external requests</code> (production)</p> </li> <li> <p>Click \"Save\"</p> </li> </ol>"},{"location":"keycloak/realm-setup/#login-settings","title":"Login Settings","text":"<ol> <li>Go to \"Realm settings\" \u2192 \"Login\" tab</li> <li>Configure:</li> <li>User registration: \u2717 (unchecked for security)</li> <li>Forgot password: \u2713 (optional)</li> <li>Remember me: \u2713 (optional)</li> <li>Email as username: \u2717 (use separate username)</li> <li>Login with email: \u2713 (allow email login)</li> <li>Duplicate emails: \u2717 (prevent duplicate emails)</li> <li> <p>Verify email: \u2717 (disable for testing)</p> </li> <li> <p>Click \"Save\"</p> </li> </ol>"},{"location":"keycloak/realm-setup/#token-settings","title":"Token Settings","text":"<ol> <li>Go to \"Realm settings\" \u2192 \"Tokens\" tab</li> <li>Configure Token Lifespans:</li> <li>Access Token Lifespan: <code>5 Minutes</code> (default)</li> <li>Access Token Lifespan For Implicit Flow: <code>15 Minutes</code></li> <li>Client login timeout: <code>1 Minutes</code></li> <li>Login timeout: <code>30 Minutes</code></li> <li> <p>Login action timeout: <code>5 Minutes</code></p> </li> <li> <p>Click \"Save\"</p> </li> </ol> <p>Token Lifespan</p> <p>For development, you can increase token lifespan to avoid frequent re-authentication. For production, keep tokens short-lived for security.</p>"},{"location":"keycloak/realm-setup/#email-settings-optional","title":"Email Settings (Optional)","text":"<p>For password reset and email verification:</p> <ol> <li>Go to \"Realm settings\" \u2192 \"Email\" tab</li> <li>Configure SMTP:</li> <li>Host: <code>smtp.gmail.com</code> (or your SMTP server)</li> <li>Port: <code>587</code></li> <li>From: <code>noreply@example.com</code></li> <li>Enable SSL: \u2717</li> <li>Enable StartTLS: \u2713</li> <li>Enable Authentication: \u2713</li> <li>Username: Your email</li> <li> <p>Password: Your email password</p> </li> <li> <p>Click \"Save\"</p> </li> <li>Click \"Test connection\" to verify</li> </ol>"},{"location":"keycloak/realm-setup/#step-4-create-realm-role","title":"Step 4: Create Realm Role","text":"<p>Create the <code>schedule-user</code> role required by the API.</p> Admin ConsoleREST API <ol> <li>Go to \"Realm roles\" in left menu</li> <li>Click \"Create role\"</li> <li>Enter Role Details:<ul> <li>Role name: <code>schedule-user</code></li> <li>Description: <code>Role for accessing schedule API</code></li> </ul> </li> <li>Click \"Save\"</li> </ol> <pre><code># Get admin token (if not already set)\nTOKEN=$(curl -X POST http://localhost:8080/realms/master/protocol/openid-connect/token \\\n  -H \"Content-Type: application/x-www-form-urlencoded\" \\\n  -d \"username=admin\" \\\n  -d \"password=admin\" \\\n  -d \"grant_type=password\" \\\n  -d \"client_id=admin-cli\" \\\n  | jq -r '.access_token')\n\n# Create role\ncurl -X POST http://localhost:8080/admin/realms/secure-test/roles \\\n  -H \"Authorization: Bearer $TOKEN\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"name\": \"schedule-user\",\n    \"description\": \"Role for accessing schedule API\"\n  }'\n</code></pre>"},{"location":"keycloak/realm-setup/#step-5-configure-security-settings","title":"Step 5: Configure Security Settings","text":""},{"location":"keycloak/realm-setup/#brute-force-detection","title":"Brute Force Detection","text":"<p>Protect against brute force attacks:</p> <ol> <li>Go to \"Realm settings\" \u2192 \"Security defenses\" tab</li> <li>Configure Brute Force Detection:</li> <li>Enabled: \u2713</li> <li>Permanent Lockout: \u2717</li> <li>Max Login Failures: <code>5</code></li> <li>Wait Increment: <code>60 Seconds</code></li> <li>Quick Login Check Milli Seconds: <code>1000</code></li> <li>Minimum Quick Login Wait: <code>60 Seconds</code></li> <li>Max Wait: <code>900 Seconds</code></li> <li> <p>Failure Reset Time: <code>43200 Seconds</code> (12 hours)</p> </li> <li> <p>Click \"Save\"</p> </li> </ol>"},{"location":"keycloak/realm-setup/#password-policy","title":"Password Policy","text":"<p>Set password requirements:</p> <ol> <li>Go to \"Realm settings\" \u2192 \"Security defenses\" \u2192 \"Password policy\" tab</li> <li>Add Policies:</li> <li>Minimum Length: <code>8</code></li> <li>Not Username: \u2713</li> <li>Uppercase Characters: <code>1</code></li> <li>Lowercase Characters: <code>1</code></li> <li>Digits: <code>1</code></li> <li> <p>Special Characters: <code>1</code></p> </li> <li> <p>Click \"Save\"</p> </li> </ol>"},{"location":"keycloak/realm-setup/#step-6-verify-realm-configuration","title":"Step 6: Verify Realm Configuration","text":""},{"location":"keycloak/realm-setup/#check-realm-endpoints","title":"Check Realm Endpoints","text":"<p>Get the OpenID Connect configuration:</p> <pre><code>curl http://localhost:8080/realms/secure-test/.well-known/openid-configuration | jq\n</code></pre> <p>You should see:</p> <pre><code>{\n  \"issuer\": \"http://localhost:8080/realms/secure-test\",\n  \"authorization_endpoint\": \"http://localhost:8080/realms/secure-test/protocol/openid-connect/auth\",\n  \"token_endpoint\": \"http://localhost:8080/realms/secure-test/protocol/openid-connect/token\",\n  \"jwks_uri\": \"http://localhost:8080/realms/secure-test/protocol/openid-connect/certs\",\n  ...\n}\n</code></pre>"},{"location":"keycloak/realm-setup/#verify-jwks-endpoint","title":"Verify JWKS Endpoint","text":"<p>Check the JSON Web Key Set:</p> <pre><code>curl http://localhost:8080/realms/secure-test/protocol/openid-connect/certs | jq\n</code></pre> <p>You should see public keys used for JWT signature verification.</p> <p>Testing with Users</p> <p>To test token generation, you'll need to create users first. See the User Management guide for creating test users.</p>"},{"location":"keycloak/realm-setup/#export-realm-configuration","title":"Export Realm Configuration","text":"Admin ConsoleCLI <ol> <li>Go to \"Realm settings\"</li> <li>Click \"Action\" \u2192 \"Partial export\"</li> <li>Select what to export:<ul> <li>\u2713 Export groups and roles</li> <li>\u2713 Export clients</li> <li>\u2717 Export users (for security)</li> </ul> </li> <li>Click \"Export\"</li> </ol> <p>Download: <code>secure-test-realm.json</code></p> <p>```bash</p>"},{"location":"keycloak/realm-setup/#export-realm","title":"Export realm","text":""},{"location":"keycloak/user-management/","title":"User Management","text":"<p>This guide explains how to create and manage users in Keycloak for testing the Authentication Test API.</p>"},{"location":"keycloak/user-management/#prerequisites","title":"Prerequisites","text":"<ul> <li>Keycloak installed and running</li> <li><code>secure-test</code> realm created</li> <li><code>schedule-user</code> role created</li> <li><code>authentication-test-api</code> client configured</li> </ul>"},{"location":"keycloak/user-management/#creating-test-users","title":"Creating Test Users","text":"<p>We'll create two test users as specified in the requirements:</p> <ol> <li>testuser1 - User with schedule-user role</li> <li>testuser2 - User with schedule-user role</li> </ol>"},{"location":"keycloak/user-management/#step-1-create-first-user-testuser1","title":"Step 1: Create First User (testuser1)","text":"Admin ConsoleREST API <p>Create User:</p> <ol> <li>Select \"secure-test\" realm from dropdown</li> <li>Go to \"Users\" in left menu</li> <li>Click \"Create new user\"</li> <li>Enter User Details:</li> <li>Username: <code>testuser1</code> (required)</li> <li>Email: <code>testuser1@example.com</code></li> <li>Email verified: \u2713 ON</li> <li>First name: <code>Test</code></li> <li>Last name: <code>User One</code></li> <li>Enabled: \u2713 ON (user can login)</li> <li>Required user actions: (leave empty)</li> <li>Click \"Create\"</li> </ol> <p>Set Password:</p> <ol> <li>Go to \"Credentials\" tab</li> <li>Click \"Set password\"</li> <li>Enter Password Details:</li> <li>Password: <code>password123</code></li> <li>Password confirmation: <code>password123</code></li> <li>Temporary: \u2717 OFF (user won't need to change password)</li> <li>Click \"Save\"</li> <li>Confirm by clicking \"Save password\"</li> </ol> <p>Assign Role:</p> <ol> <li>Go to \"Role mapping\" tab</li> <li>Click \"Assign role\"</li> <li>Filter by realm roles</li> <li>Select \"schedule-user\"</li> <li>Click \"Assign\"</li> </ol> <p>You should see <code>schedule-user</code> in the \"Assigned roles\" list.</p> <pre><code># Get admin token\nTOKEN=$(curl -X POST http://localhost:8080/realms/master/protocol/openid-connect/token \\\n  -H \"Content-Type: application/x-www-form-urlencoded\" \\\n  -d \"username=admin\" \\\n  -d \"password=admin\" \\\n  -d \"grant_type=password\" \\\n  -d \"client_id=admin-cli\" \\\n  | jq -r '.access_token')\n\n# Create user\ncurl -X POST http://localhost:8080/admin/realms/secure-test/users \\\n  -H \"Authorization: Bearer $TOKEN\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"username\": \"testuser1\",\n    \"email\": \"testuser1@example.com\",\n    \"emailVerified\": true,\n    \"firstName\": \"Test\",\n    \"lastName\": \"User One\",\n    \"enabled\": true,\n    \"credentials\": [{\n      \"type\": \"password\",\n      \"value\": \"password123\",\n      \"temporary\": false\n    }]\n  }'\n\n# Get user ID\nUSER_ID=$(curl -X GET \"http://localhost:8080/admin/realms/secure-test/users?username=testuser1\" \\\n  -H \"Authorization: Bearer $TOKEN\" \\\n  | jq -r '.[0].id')\n\n# Get role ID\nROLE_ID=$(curl -X GET http://localhost:8080/admin/realms/secure-test/roles/schedule-user \\\n  -H \"Authorization: Bearer $TOKEN\" \\\n  | jq -r '.id')\n\n# Assign role to user\ncurl -X POST \"http://localhost:8080/admin/realms/secure-test/users/$USER_ID/role-mappings/realm\" \\\n  -H \"Authorization: Bearer $TOKEN\" \\\n  -H \"Content-Type: application/json\" \\\n  -d \"[{\n    \\\"id\\\": \\\"$ROLE_ID\\\",\n    \\\"name\\\": \\\"schedule-user\\\"\n  }]\"\n</code></pre>"},{"location":"keycloak/user-management/#step-2-create-second-user-testuser2","title":"Step 2: Create Second User (testuser2)","text":"Admin ConsoleREST API <p>Repeat the same process for the second user:</p> <ol> <li>Go to \"Users\" \u2192 \"Create new user\"</li> <li>Enter User Details:</li> <li>Username: <code>testuser2</code></li> <li>Email: <code>testuser2@example.com</code></li> <li>Email verified: \u2713 ON</li> <li>First name: <code>Test</code></li> <li>Last name: <code>User Two</code></li> <li>Enabled: \u2713 ON</li> <li>Click \"Create\"</li> <li>Set Password:</li> <li>Password: <code>password123</code></li> <li>Temporary: \u2717 OFF</li> <li>Assign Role:</li> <li>Assign <code>schedule-user</code> role</li> </ol> <pre><code># Create second user\ncurl -X POST http://localhost:8080/admin/realms/secure-test/users \\\n  -H \"Authorization: Bearer $TOKEN\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"username\": \"testuser2\",\n    \"email\": \"testuser2@example.com\",\n    \"emailVerified\": true,\n    \"firstName\": \"Test\",\n    \"lastName\": \"User Two\",\n    \"enabled\": true,\n    \"credentials\": [{\n      \"type\": \"password\",\n      \"value\": \"password123\",\n      \"temporary\": false\n    }]\n  }'\n</code></pre>"},{"location":"keycloak/user-management/#get-user-id-and-assign-role-same-as-testuser1","title":"Get user ID and assign role (same as testuser1)","text":"<p>USER_ID=$(curl -X GET \"http://localhost:8080/admin/realms/secure-test/users?username=testuser2\" \\   -H \"Authorization: Bearer $TOKEN\" \\   | jq -r '.[0].id')</p> <p>curl -X POST \"http://localhost:8080/admin/realms/secure-test/users/$USER_ID/role-mappings/realm\" \\   -H \"Authorization: Bearer $TOKEN\" \\   -H \"Content-Type: application/json\" \\   -d \"[{     \\\"id\\\": \\\"$ROLE_ID\\\",     \\\"name\\\": \\\"schedule-user\\\"   }]\" <pre><code>## Step 3: Verify Users\n\n### List All Users\n\n=== \"Admin Console\"\n    1. Go to \"Users\"\n    2. You should see both testuser1 and testuser2\n\n=== \"REST API\"\n    ```bash\n    curl -X GET http://localhost:8080/admin/realms/secure-test/users \\\n      -H \"Authorization: Bearer $TOKEN\" \\\n      | jq '.[] | {username, email, enabled}'\n    ```\n\n### Test User Login\n\nTest that users can authenticate:\n\n```bash\n# Test testuser1\ncurl -X POST http://localhost:8080/realms/secure-test/protocol/openid-connect/token \\\n  -H \"Content-Type: application/x-www-form-urlencoded\" \\\n  -d \"client_id=authentication-test-api\" \\\n  -d \"client_secret=YOUR_CLIENT_SECRET\" \\\n  -d \"grant_type=password\" \\\n  -d \"username=testuser1\" \\\n  -d \"password=password123\" \\\n  | jq\n\n# Test testuser2\ncurl -X POST http://localhost:8080/realms/secure-test/protocol/openid-connect/token \\\n  -H \"Content-Type: application/x-www-form-urlencoded\" \\\n  -d \"client_id=authentication-test-api\" \\\n  -d \"client_secret=YOUR_CLIENT_SECRET\" \\\n  -d \"grant_type=password\" \\\n  -d \"username=testuser2\" \\\n  -d \"password=password123\" \\\n  | jq\n</code></pre></p> <p>Both should return access tokens.</p>"},{"location":"keycloak/user-management/#verify-role-assignment","title":"Verify Role Assignment","text":"<p>Check that users have the schedule-user role:</p> <pre><code># Get user's roles\nUSER_ID=$(curl -X GET \"http://localhost:8080/admin/realms/secure-test/users?username=testuser1\" \\\n  -H \"Authorization: Bearer $TOKEN\" \\\n  | jq -r '.[0].id')\n\ncurl -X GET \"http://localhost:8080/admin/realms/secure-test/users/$USER_ID/role-mappings/realm\" \\\n  -H \"Authorization: Bearer $TOKEN\" \\\n  | jq '.[] | {name, description}'\n</code></pre> <p>Should show <code>schedule-user</code> role.</p>"},{"location":"keycloak/user-management/#user-management-operations","title":"User Management Operations","text":""},{"location":"keycloak/user-management/#update-user-information","title":"Update User Information","text":"Admin ConsoleREST API <ol> <li>Go to \"Users\"</li> <li>Click on username</li> <li>Edit fields</li> <li>Click \"Save\"</li> </ol> <pre><code>curl -X PUT \"http://localhost:8080/admin/realms/secure-test/users/$USER_ID\" \\\n  -H \"Authorization: Bearer $TOKEN\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"firstName\": \"Updated\",\n    \"lastName\": \"Name\"\n  }'\n</code></pre>"},{"location":"keycloak/user-management/#reset-password","title":"Reset Password","text":"Admin ConsoleREST API <ol> <li>Go to \"Users\" \u2192 Select user</li> <li>Go to \"Credentials\" tab</li> <li>Click \"Reset password\"</li> <li>Enter new password</li> <li>Set \"Temporary\" if user should change it</li> <li>Click \"Save\"</li> </ol> <pre><code>curl -X PUT \"http://localhost:8080/admin/realms/secure-test/users/$USER_ID/reset-password\" \\\n  -H \"Authorization: Bearer $TOKEN\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"type\": \"password\",\n    \"value\": \"newpassword123\",\n    \"temporary\": false\n  }'\n</code></pre>"},{"location":"keycloak/user-management/#disable-user","title":"Disable User","text":"Admin ConsoleREST API <ol> <li>Go to \"Users\" \u2192 Select user</li> <li>Toggle \"Enabled\" to OFF</li> <li>Click \"Save\"</li> </ol> <pre><code>curl -X PUT \"http://localhost:8080/admin/realms/secure-test/users/$USER_ID\" \\\n  -H \"Authorization: Bearer $TOKEN\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"enabled\": false\n  }'\n</code></pre>"},{"location":"keycloak/user-management/#delete-user","title":"Delete User","text":"Admin ConsoleREST API <ol> <li>Go to \"Users\" \u2192 Select user</li> <li>Click \"Delete\"</li> <li>Confirm deletion</li> </ol> <pre><code>curl -X DELETE \"http://localhost:8080/admin/realms/secure-test/users/$USER_ID\" \\\n  -H \"Authorization: Bearer $TOKEN\"\n</code></pre>"},{"location":"keycloak/user-management/#user-attributes","title":"User Attributes","text":""},{"location":"keycloak/user-management/#add-custom-attributes","title":"Add Custom Attributes","text":"<p>You can add custom attributes to users:</p> Admin ConsoleREST API <ol> <li>Go to \"Users\" \u2192 Select user</li> <li>Go to \"Attributes\" tab</li> <li>Click \"Add attribute\"</li> <li>Enter key and value</li> <li>Click \"Save\"</li> </ol> <pre><code>curl -X PUT \"http://localhost:8080/admin/realms/secure-test/users/$USER_ID\" \\\n  -H \"Authorization: Bearer $TOKEN\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"attributes\": {\n      \"department\": [\"Engineering\"],\n      \"employee_id\": [\"EMP001\"]\n    }\n  }'\n</code></pre>"},{"location":"keycloak/user-management/#groups-optional","title":"Groups (Optional)","text":""},{"location":"keycloak/user-management/#create-group","title":"Create Group","text":"<ol> <li>Go to \"Groups\"</li> <li>Click \"Create group\"</li> <li>Enter:</li> <li>Name: <code>api-users</code></li> <li>Click \"Create\"</li> </ol>"},{"location":"keycloak/user-management/#assign-users-to-group","title":"Assign Users to Group","text":"<ol> <li>Go to \"Users\" \u2192 Select user</li> <li>Go to \"Groups\" tab</li> <li>Click \"Join group\"</li> <li>Select \"api-users\"</li> <li>Click \"Join\"</li> </ol>"},{"location":"keycloak/user-management/#assign-role-to-group","title":"Assign Role to Group","text":"<ol> <li>Go to \"Groups\" \u2192 Select \"api-users\"</li> <li>Go to \"Role mapping\" tab</li> <li>Assign \"schedule-user\" role</li> </ol> <p>Now all users in the group automatically get the role.</p>"},{"location":"keycloak/user-management/#testing-with-api","title":"Testing with API","text":""},{"location":"keycloak/user-management/#get-token-for-testuser1","title":"Get Token for testuser1","text":"<pre><code>TOKEN1=$(curl -X POST http://localhost:8080/realms/secure-test/protocol/openid-connect/token \\\n  -H \"Content-Type: application/x-www-form-urlencoded\" \\\n  -d \"client_id=authentication-test-api\" \\\n  -d \"client_secret=YOUR_CLIENT_SECRET\" \\\n  -d \"grant_type=password\" \\\n  -d \"username=testuser1\" \\\n  -d \"password=password123\" \\\n  | jq -r '.access_token')\n</code></pre>"},{"location":"keycloak/user-management/#call-api","title":"Call API","text":"<pre><code>curl http://localhost:9080/api/v1/schedule \\\n  -H \"Authorization: Bearer $TOKEN1\" \\\n  | jq\n</code></pre> <p>Expected response:</p> <pre><code>{\n  \"user\": \"testuser1\",\n  \"schedule\": [\n    {\n      \"date\": \"2026-01-28\",\n      \"time\": \"09:00\",\n      \"description\": \"Team standup meeting\"\n    }\n  ]\n}\n</code></pre>"},{"location":"keycloak/user-management/#test-with-testuser2","title":"Test with testuser2","text":"<pre><code>TOKEN2=$(curl -X POST http://localhost:8080/realms/secure-test/protocol/openid-connect/token \\\n  -H \"Content-Type: application/x-www-form-urlencoded\" \\\n  -d \"client_id=authentication-test-api\" \\\n  -d \"client_secret=YOUR_CLIENT_SECRET\" \\\n  -d \"grant_type=password\" \\\n  -d \"username=testuser2\" \\\n  -d \"password=password123\" \\\n  | jq -r '.access_token')\n\ncurl http://localhost:9080/api/v1/schedule \\\n  -H \"Authorization: Bearer $TOKEN2\" \\\n  | jq\n</code></pre> <p>Each user should see their own schedule.</p>"},{"location":"keycloak/user-management/#bulk-user-creation","title":"Bulk User Creation","text":""},{"location":"keycloak/user-management/#using-script","title":"Using Script","text":"<p>Create multiple users with a script:</p> <pre><code>#!/bin/bash\n\n# Get admin token\nTOKEN=$(curl -s -X POST http://localhost:8080/realms/master/protocol/openid-connect/token \\\n  -H \"Content-Type: application/x-www-form-urlencoded\" \\\n  -d \"username=admin\" \\\n  -d \"password=admin\" \\\n  -d \"grant_type=password\" \\\n  -d \"client_id=admin-cli\" \\\n  | jq -r '.access_token')\n\n# Get role ID\nROLE_ID=$(curl -s -X GET http://localhost:8080/admin/realms/secure-test/roles/schedule-user \\\n  -H \"Authorization: Bearer $TOKEN\" \\\n  | jq -r '.id')\n\n# Create users\nfor i in {3..10}; do\n  echo \"Creating testuser$i...\"\n\n  # Create user\n  curl -s -X POST http://localhost:8080/admin/realms/secure-test/users \\\n    -H \"Authorization: Bearer $TOKEN\" \\\n    -H \"Content-Type: application/json\" \\\n    -d \"{\n      \\\"username\\\": \\\"testuser$i\\\",\n      \\\"email\\\": \\\"testuser$i@example.com\\\",\n      \\\"emailVerified\\\": true,\n      \\\"firstName\\\": \\\"Test\\\",\n      \\\"lastName\\\": \\\"User $i\\\",\n      \\\"enabled\\\": true,\n      \\\"credentials\\\": [{\n        \\\"type\\\": \\\"password\\\",\n        \\\"value\\\": \\\"password123\\\",\n        \\\"temporary\\\": false\n      }]\n    }\"\n\n  # Get user ID\n  USER_ID=$(curl -s -X GET \"http://localhost:8080/admin/realms/secure-test/users?username=testuser$i\" \\\n    -H \"Authorization: Bearer $TOKEN\" \\\n    | jq -r '.[0].id')\n\n  # Assign role\n  curl -s -X POST \"http://localhost:8080/admin/realms/secure-test/users/$USER_ID/role-mappings/realm\" \\\n    -H \"Authorization: Bearer $TOKEN\" \\\n    -H \"Content-Type: application/json\" \\\n    -d \"[{\n      \\\"id\\\": \\\"$ROLE_ID\\\",\n      \\\"name\\\": \\\"schedule-user\\\"\n    }]\"\n\n  echo \"Created testuser$i\"\ndone\n\necho \"Done!\"\n</code></pre>"},{"location":"keycloak/user-management/#troubleshooting","title":"Troubleshooting","text":""},{"location":"keycloak/user-management/#user-cant-login","title":"User Can't Login","text":"<ol> <li>Check user is enabled</li> <li>Verify password is correct</li> <li>Check user has required role</li> <li>Verify client configuration</li> </ol>"},{"location":"keycloak/user-management/#token-missing-username","title":"Token Missing Username","text":"<p>Ensure <code>preferred_username</code> mapper is enabled:</p> <ol> <li>Go to \"Client scopes\" \u2192 \"profile\"</li> <li>Go to \"Mappers\" tab</li> <li>Verify \"username\" mapper exists</li> </ol>"},{"location":"keycloak/user-management/#role-not-in-token","title":"Role Not in Token","text":"<ol> <li>Verify user has the role assigned</li> <li>Check role mapper configuration in client</li> <li>Ensure mapper adds role to access token</li> </ol>"},{"location":"keycloak/user-management/#next-steps","title":"Next Steps","text":"<ul> <li>API Authentication - Use tokens with the API</li> <li>API Endpoints - Test all API endpoints</li> <li>Troubleshooting - Common issues</li> </ul>"},{"location":"keycloak/user-management/#additional-resources","title":"Additional Resources","text":"<ul> <li>Keycloak User Management</li> <li>Keycloak REST API</li> </ul>"},{"location":"troubleshooting/common-issues/","title":"Common Issues","text":"<p>Solutions to frequently encountered problems.</p>"},{"location":"troubleshooting/common-issues/#authentication-issues","title":"Authentication Issues","text":""},{"location":"troubleshooting/common-issues/#401-unauthorized-error","title":"401 Unauthorized Error","text":"<p>Problem: API returns 401 when calling <code>/schedule</code></p> <p>Solutions: 1. Verify JWT token is valid and not expired 2. Check token is sent in <code>Authorization: Bearer &lt;token&gt;</code> header 3. Ensure Keycloak JWKS URI is accessible from API server</p>"},{"location":"troubleshooting/common-issues/#403-forbidden-error","title":"403 Forbidden Error","text":"<p>Problem: Valid token but access denied</p> <p>Solutions: 1. Verify user has <code>schedule-user</code> role in Keycloak 2. Check role mapping in client configuration 3. Ensure role appears in JWT token claims</p>"},{"location":"troubleshooting/common-issues/#connection-issues","title":"Connection Issues","text":""},{"location":"troubleshooting/common-issues/#cant-connect-to-keycloak","title":"Can't Connect to Keycloak","text":"<p>Solutions: 1. Verify Keycloak is running: <code>curl http://localhost:8080</code> 2. Check network connectivity 3. Verify firewall settings 4. Check JWT_JWKS_URI environment variable</p>"},{"location":"troubleshooting/common-issues/#port-already-in-use","title":"Port Already in Use","text":"<p>Problem: Can't start server on port 9080</p> <p>Solutions: <pre><code># Find process using port\nlsof -i :9080\n\n# Kill process or change port in server.xml\n</code></pre></p>"},{"location":"troubleshooting/common-issues/#build-issues","title":"Build Issues","text":""},{"location":"troubleshooting/common-issues/#maven-build-fails","title":"Maven Build Fails","text":"<p>Solutions: <pre><code># Clean and rebuild\nmvn clean install -U\n\n# Clear local repository\nrm -rf ~/.m2/repository/com/example\nmvn clean install\n</code></pre></p>"},{"location":"troubleshooting/common-issues/#container-issues","title":"Container Issues","text":""},{"location":"troubleshooting/common-issues/#container-wont-start","title":"Container Won't Start","text":"<p>Solutions: <pre><code># Check logs\npodman logs auth-api\n\n# Verify image exists\npodman images | grep authentication-test-api\n</code></pre></p>"},{"location":"troubleshooting/common-issues/#next-steps","title":"Next Steps","text":"<ul> <li>Debugging Guide</li> <li>API Endpoints</li> </ul>"},{"location":"troubleshooting/debugging/","title":"Debugging Guide","text":"<p>Tips and techniques for debugging the Authentication Test API.</p>"},{"location":"troubleshooting/debugging/#enable-debug-logging","title":"Enable Debug Logging","text":"<p>Set log level to DEBUG:</p> <pre><code>export LOG_LEVEL=DEBUG\nmvn liberty:dev\n</code></pre>"},{"location":"troubleshooting/debugging/#debug-with-ide","title":"Debug with IDE","text":""},{"location":"troubleshooting/debugging/#intellij-idea-vs-code","title":"IntelliJ IDEA / VS Code","text":"<ol> <li>Start server in debug mode: <code>mvn liberty:dev</code></li> <li>Attach debugger to port 7777</li> <li>Set breakpoints in code</li> <li>Make API request to trigger breakpoint</li> </ol>"},{"location":"troubleshooting/debugging/#view-logs","title":"View Logs","text":""},{"location":"troubleshooting/debugging/#development-mode","title":"Development Mode","text":"<p>Logs appear in console when running <code>mvn liberty:dev</code></p>"},{"location":"troubleshooting/debugging/#container-logs","title":"Container Logs","text":"<pre><code>podman logs -f auth-api\n</code></pre>"},{"location":"troubleshooting/debugging/#decode-jwt-token","title":"Decode JWT Token","text":"<pre><code># Extract and decode token payload\necho \"YOUR_TOKEN\" | cut -d'.' -f2 | base64 -d | jq\n</code></pre>"},{"location":"troubleshooting/debugging/#test-keycloak-connectivity","title":"Test Keycloak Connectivity","text":"<pre><code># Test JWKS endpoint\ncurl https://keycloak.lab.home/realms/secure-test/protocol/openid-connect/certs | jq\n</code></pre>"},{"location":"troubleshooting/debugging/#next-steps","title":"Next Steps","text":"<ul> <li>Common Issues</li> <li>API Endpoints</li> </ul>"}]}